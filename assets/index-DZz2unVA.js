import{E as Yi,o as A,v as Or,g as It,w as st,x as At,y as _a,e as wa,z as ol,a as al}from"./index-7Q-zUJ2T.js";import{p as cl,a as ll,b as ul}from"./hooks.module-C5ONEBEq.js";const dl=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Yi,default:Yi},Symbol.toStringTag,{value:"Module"}));var ya={},zt={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.walletLogo=void 0;const hl=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Br.walletLogo=hl;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.LINK_API_URL=void 0;Fr.LINK_API_URL="https://www.walletlink.org";var v={},Jt={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.errorValues=je.standardErrorCodes=void 0;je.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};je.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var Dr={},jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=je,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(d,f=r){if(d&&Number.isInteger(d)){const g=d.toString();if(u(t.errorValues,g))return t.errorValues[g].message;if(l(d))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return f}e.getMessageFromCode=n;function s(d){if(!Number.isInteger(d))return!1;const f=d.toString();return!!(t.errorValues[f]||l(d))}e.isValidCode=s;function i(d){var f;if(typeof d=="number")return d;if(o(d))return(f=d.code)!==null&&f!==void 0?f:d.errorCode}e.getErrorCode=i;function o(d){return typeof d=="object"&&d!==null&&(typeof d.code=="number"||typeof d.errorCode=="number")}function a(d,{shouldIncludeStack:f=!1}={}){const g={};if(d&&typeof d=="object"&&!Array.isArray(d)&&u(d,"code")&&s(d.code)){const y=d;g.code=y.code,y.message&&typeof y.message=="string"?(g.message=y.message,u(y,"data")&&(g.data=y.data)):(g.message=n(g.code),g.data={originalError:c(d)})}else g.code=t.standardErrorCodes.rpc.internal,g.message=h(d,"message")?d.message:r,g.data={originalError:c(d)};return f&&(g.stack=h(d,"stack")?d.stack:void 0),g}e.serialize=a;function l(d){return d>=-32099&&d<=-32e3}function c(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function u(d,f){return Object.prototype.hasOwnProperty.call(d,f)}function h(d,f){return typeof d=="object"&&d!==null&&f in d&&typeof d[f]=="string"}})(jr);Object.defineProperty(Dr,"__esModule",{value:!0});Dr.standardErrors=void 0;const oe=je,Ea=jr;Dr.standardErrors={rpc:{parse:e=>_e(oe.standardErrorCodes.rpc.parse,e),invalidRequest:e=>_e(oe.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>_e(oe.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>_e(oe.standardErrorCodes.rpc.methodNotFound,e),internal:e=>_e(oe.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return _e(t,e)},invalidInput:e=>_e(oe.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>_e(oe.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>_e(oe.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>_e(oe.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>_e(oe.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>_e(oe.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>lt(oe.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>lt(oe.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>lt(oe.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>lt(oe.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>lt(oe.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>lt(oe.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ca(t,r,n)}}};function _e(e,t){const[r,n]=va(t);return new Sa(e,r||(0,Ea.getMessageFromCode)(e),n)}function lt(e,t){const[r,n]=va(t);return new Ca(e,r||(0,Ea.getMessageFromCode)(e),n)}function va(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}let Sa=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},Ca=class extends Sa{constructor(t,r,n){if(!fl(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function fl(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}var Hr={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.isErrorResponse=void 0;function gl(e){return e.errorMessage!==void 0}xt.isErrorResponse=gl;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.LIB_VERSION=void 0;Nt.LIB_VERSION="3.9.3";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.serializeError=void 0;const pl=xt,ml=Nt,bl=je,_l=jr;function wl(e,t){const r=(0,_l.serialize)(yl(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",ml.LIB_VERSION),n.searchParams.set("code",r.code.toString());const s=El(r.data,t);return s&&n.searchParams.set("method",s),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}Hr.serializeError=wl;function yl(e){return typeof e=="string"?{message:e,code:bl.standardErrorCodes.rpc.internal}:(0,pl.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function El(e,t){const r=e==null?void 0:e.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=je;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=Dr;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=Hr;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const s=jr;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return s.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}})})(Jt);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.ProviderType=Y.RegExpString=Y.IntNumber=Y.BigIntString=Y.AddressString=Y.HexString=Y.OpaqueType=void 0;function Gt(){return e=>e}Y.OpaqueType=Gt;Y.HexString=Gt();Y.AddressString=Gt();Y.BigIntString=Gt();function vl(e){return Math.floor(e)}Y.IntNumber=vl;Y.RegExpString=Gt();var eo;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(eo||(Y.ProviderType=eo={}));var Sl=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v,"__esModule",{value:!0});v.isMobileWeb=v.getLocation=v.isInIFrame=v.createQrUrl=v.getFavicon=v.range=v.isBigNumber=v.ensureParsedJSONObject=v.ensureBN=v.ensureRegExpString=v.ensureIntNumber=v.ensureBuffer=v.ensureAddressString=v.ensureEvenLengthHexString=v.ensureHexString=v.isHexString=v.prepend0x=v.strip0x=v.has0xPrefix=v.hexStringFromIntNumber=v.intNumberFromHexString=v.bigIntStringFromBN=v.hexStringFromBuffer=v.hexStringToUint8Array=v.uint8ArrayToHex=v.randomBytesHex=void 0;const Ve=Sl(Or),it=Jt,ve=Y,ka=/^[0-9]*$/,Ra=/^[a-f0-9]*$/;function Cl(e){return Ia(crypto.getRandomValues(new Uint8Array(e)))}v.randomBytesHex=Cl;function Ia(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}v.uint8ArrayToHex=Ia;function kl(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}v.hexStringToUint8Array=kl;function Rl(e,t=!1){const r=e.toString("hex");return(0,ve.HexString)(t?`0x${r}`:r)}v.hexStringFromBuffer=Rl;function Il(e){return(0,ve.BigIntString)(e.toString(10))}v.bigIntStringFromBN=Il;function Al(e){return(0,ve.IntNumber)(new Ve.default(Qt(e,!1),16).toNumber())}v.intNumberFromHexString=Al;function xl(e){return(0,ve.HexString)(`0x${new Ve.default(e).toString(16)}`)}v.hexStringFromIntNumber=xl;function Ys(e){return e.startsWith("0x")||e.startsWith("0X")}v.has0xPrefix=Ys;function Ur(e){return Ys(e)?e.slice(2):e}v.strip0x=Ur;function Aa(e){return Ys(e)?`0x${e.slice(2)}`:`0x${e}`}v.prepend0x=Aa;function Zt(e){if(typeof e!="string")return!1;const t=Ur(e).toLowerCase();return Ra.test(t)}v.isHexString=Zt;function xa(e,t=!1){if(typeof e=="string"){const r=Ur(e).toLowerCase();if(Ra.test(r))return(0,ve.HexString)(t?`0x${r}`:r)}throw it.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}v.ensureHexString=xa;function Qt(e,t=!1){let r=xa(e,!1);return r.length%2===1&&(r=(0,ve.HexString)(`0${r}`)),t?(0,ve.HexString)(`0x${r}`):r}v.ensureEvenLengthHexString=Qt;function Nl(e){if(typeof e=="string"){const t=Ur(e).toLowerCase();if(Zt(t)&&t.length===40)return(0,ve.AddressString)(Aa(t))}throw it.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}v.ensureAddressString=Nl;function Ll(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(Zt(e)){const t=Qt(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw it.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}v.ensureBuffer=Ll;function Na(e){if(typeof e=="number"&&Number.isInteger(e))return(0,ve.IntNumber)(e);if(typeof e=="string"){if(ka.test(e))return(0,ve.IntNumber)(Number(e));if(Zt(e))return(0,ve.IntNumber)(new Ve.default(Qt(e,!1),16).toNumber())}throw it.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}v.ensureIntNumber=Na;function Ml(e){if(e instanceof RegExp)return(0,ve.RegExpString)(e.toString());throw it.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}v.ensureRegExpString=Ml;function $l(e){if(e!==null&&(Ve.default.isBN(e)||La(e)))return new Ve.default(e.toString(10),10);if(typeof e=="number")return new Ve.default(Na(e));if(typeof e=="string"){if(ka.test(e))return new Ve.default(e,10);if(Zt(e))return new Ve.default(Qt(e,!1),16)}throw it.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}v.ensureBN=$l;function Tl(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw it.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}v.ensureParsedJSONObject=Tl;function La(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}v.isBigNumber=La;function Pl(e,t){return Array.from({length:t-e},(r,n)=>e+n)}v.range=Pl;function Ol(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}v.getFavicon=Ol;function Bl(e,t,r,n,s,i){const o=n?"parent-id":"id",a=new URLSearchParams({[o]:e,secret:t,server:r,v:s,chainId:i.toString()}).toString();return`${r}/#/link?${a}`}v.createQrUrl=Bl;function Ma(){try{return window.frameElement!==null}catch{return!1}}v.isInIFrame=Ma;function Fl(){try{return Ma()&&window.top?window.top.location:window.location}catch{return window.location}}v.getLocation=Fl;function Dl(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window==null?void 0:window.navigator)===null||e===void 0?void 0:e.userAgent)}v.isMobileWeb=Dl;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.ScopedLocalStorage=void 0;class jl{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);typeof s=="string"&&s.startsWith(t)&&r.push(s)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}Vr.ScopedLocalStorage=jl;var Et={};const Hl=It(dl);var Kt={},Xt={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.EVENTS=void 0;Lt.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.RelayAbstract=Ee.APP_VERSION_KEY=Ee.LOCAL_STORAGE_ADDRESSES_KEY=Ee.WALLET_USER_NAME_KEY=void 0;const to=Jt;Ee.WALLET_USER_NAME_KEY="walletUsername";Ee.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ee.APP_VERSION_KEY="AppVersion";class Ul{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw to.standardErrors.rpc.parse({});const s=n,{error:i}=s;if(i)throw(0,to.serializeError)(i,t.method);return s})}}Ee.RelayAbstract=Ul;var Mt={},$a={exports:{}},Ta=st.Buffer;function zr(e,t){this._block=Ta.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}zr.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Ta.from(e,t));for(var r=this._block,n=this._blockSize,s=e.length,i=this._len,o=0;o<s;){for(var a=i%n,l=Math.min(s-o,n-a),c=0;c<l;c++)r[a+c]=e[o+c];i+=l,o+=l,i%n===0&&this._update(r)}return this._len+=s,this};zr.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,s=(r-n)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};zr.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var $t=zr,Vl=At,Pa=$t,zl=st.Buffer,Wl=[1518500249,1859775393,-1894007588,-899497514],ql=new Array(80);function Yt(){this.init(),this._w=ql,Pa.call(this,64,56)}Vl(Yt,Pa);Yt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Jl(e){return e<<5|e>>>27}function Gl(e){return e<<30|e>>>2}function Zl(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Yt.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var l=0;l<80;++l){var c=~~(l/20),u=Jl(r)+Zl(c,n,s,i)+o+t[l]+Wl[c]|0;o=i,i=s,s=Gl(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0};Yt.prototype._hash=function(){var e=zl.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var Ql=Yt,Kl=At,Oa=$t,Xl=st.Buffer,Yl=[1518500249,1859775393,-1894007588,-899497514],eu=new Array(80);function er(){this.init(),this._w=eu,Oa.call(this,64,56)}Kl(er,Oa);er.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function tu(e){return e<<1|e>>>31}function ru(e){return e<<5|e>>>27}function nu(e){return e<<30|e>>>2}function su(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}er.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=tu(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=ru(r)+su(c,n,s,i)+o+t[l]+Yl[c]|0;o=i,i=s,s=nu(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0};er.prototype._hash=function(){var e=Xl.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var iu=er,ou=At,Ba=$t,au=st.Buffer,cu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],lu=new Array(64);function tr(){this.init(),this._w=lu,Ba.call(this,64,56)}ou(tr,Ba);tr.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function uu(e,t,r){return r^e&(t^r)}function du(e,t,r){return e&t|r&(e|t)}function hu(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function fu(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gu(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function pu(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}tr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<64;++u)t[u]=pu(t[u-2])+t[u-7]+gu(t[u-15])+t[u-16]|0;for(var h=0;h<64;++h){var d=c+fu(o)+uu(o,a,l)+cu[h]+t[h]|0,f=hu(r)+du(r,n,s)|0;c=l,l=a,a=o,o=i+d|0,i=s,s=n,n=r,r=d+f|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};tr.prototype._hash=function(){var e=au.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Fa=tr,mu=At,bu=Fa,_u=$t,wu=st.Buffer,yu=new Array(64);function Wr(){this.init(),this._w=yu,_u.call(this,64,56)}mu(Wr,bu);Wr.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Wr.prototype._hash=function(){var e=wu.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var Eu=Wr,vu=At,Da=$t,Su=st.Buffer,ro=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Cu=new Array(160);function rr(){this.init(),this._w=Cu,Da.call(this,128,112)}vu(rr,Da);rr.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function no(e,t,r){return r^e&(t^r)}function so(e,t,r){return e&t|r&(e|t)}function io(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function oo(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function ku(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Ru(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Iu(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Au(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function ne(e,t){return e>>>0<t>>>0?1:0}rr.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,s=this._ch|0,i=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,u=this._al|0,h=this._bl|0,d=this._cl|0,f=this._dl|0,g=this._el|0,y=this._fl|0,w=this._gl|0,S=this._hl|0,_=0;_<32;_+=2)t[_]=e.readInt32BE(_*4),t[_+1]=e.readInt32BE(_*4+4);for(;_<160;_+=2){var p=t[_-30],M=t[_-15*2+1],E=ku(p,M),x=Ru(M,p);p=t[_-2*2],M=t[_-2*2+1];var H=Iu(p,M),G=Au(M,p),te=t[_-7*2],z=t[_-7*2+1],ie=t[_-16*2],V=t[_-16*2+1],X=x+z|0,b=E+te+ne(X,x)|0;X=X+G|0,b=b+H+ne(X,G)|0,X=X+V|0,b=b+ie+ne(X,V)|0,t[_]=b,t[_+1]=X}for(var m=0;m<160;m+=2){b=t[m],X=t[m+1];var R=so(r,n,s),k=so(u,h,d),I=io(r,u),C=io(u,r),N=oo(o,g),O=oo(g,o),$=ro[m],j=ro[m+1],re=no(o,a,l),U=no(g,y,w),Z=S+O|0,Ce=c+N+ne(Z,S)|0;Z=Z+U|0,Ce=Ce+re+ne(Z,U)|0,Z=Z+j|0,Ce=Ce+$+ne(Z,j)|0,Z=Z+X|0,Ce=Ce+b+ne(Z,X)|0;var Ft=C+k|0,_r=I+R+ne(Ft,C)|0;c=l,S=w,l=a,w=y,a=o,y=g,g=f+Z|0,o=i+Ce+ne(g,f)|0,i=s,f=d,s=n,d=h,n=r,h=u,u=Z+Ft|0,r=Ce+_r+ne(u,Z)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+d|0,this._dl=this._dl+f|0,this._el=this._el+g|0,this._fl=this._fl+y|0,this._gl=this._gl+w|0,this._hl=this._hl+S|0,this._ah=this._ah+r+ne(this._al,u)|0,this._bh=this._bh+n+ne(this._bl,h)|0,this._ch=this._ch+s+ne(this._cl,d)|0,this._dh=this._dh+i+ne(this._dl,f)|0,this._eh=this._eh+o+ne(this._el,g)|0,this._fh=this._fh+a+ne(this._fl,y)|0,this._gh=this._gh+l+ne(this._gl,w)|0,this._hh=this._hh+c+ne(this._hl,S)|0};rr.prototype._hash=function(){var e=Su.allocUnsafe(64);function t(r,n,s){e.writeInt32BE(r,s),e.writeInt32BE(n,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var ja=rr,xu=At,Nu=ja,Lu=$t,Mu=st.Buffer,$u=new Array(160);function qr(){this.init(),this._w=$u,Lu.call(this,128,112)}xu(qr,Nu);qr.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};qr.prototype._hash=function(){var e=Mu.allocUnsafe(48);function t(r,n,s){e.writeInt32BE(r,s),e.writeInt32BE(n,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Tu=qr,ot=$a.exports=function(t){t=t.toLowerCase();var r=ot[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};ot.sha=Ql;ot.sha1=iu;ot.sha224=Eu;ot.sha256=Fa;ot.sha384=Tu;ot.sha512=ja;var Pu=$a.exports;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.Session=void 0;const ao=Pu,co=v,lo="session:id",uo="session:secret",ho="session:linked";class ei{constructor(t,r,n,s){this._storage=t,this._id=r||(0,co.randomBytesHex)(16),this._secret=n||(0,co.randomBytesHex)(32),this._key=new ao.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!s}static load(t){const r=t.getItem(lo),n=t.getItem(ho),s=t.getItem(uo);return r&&s?new ei(t,r,s,n==="1"):null}static hash(t){return new ao.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(lo,this._id),this._storage.setItem(uo,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ho,this._linked?"1":"0")}}Mt.Session=ei;var Jr={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Cipher=void 0;const wr=v;class Ou{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.importKey("raw",(0,wr.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,i.encode(t)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),d=new Uint8Array([...n,...u,...h]);return(0,wr.uint8ArrayToHex)(d)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,s)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,wr.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,wr.hexStringToUint8Array)(t),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const d=await window.crypto.subtle.decrypt(h,i,u),f=new TextDecoder;n(f.decode(d))}catch(d){s(d)}})()})}}Gr.Cipher=Ou;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.WalletLinkHTTP=void 0;class Bu{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const s=`${r}:${n}`;this.auth=`Basic ${btoa(s)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:s}=await r.json();if(s)throw new Error(`Check unseen events failed: ${s}`);const i=(t=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(i),i}throw new Error(`Check unseen events failed: ${r.status}`)}}Zr.WalletLinkHTTP=Bu;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.WalletLinkWebSocket=vt.ConnectionState=void 0;var mt;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(mt||(vt.ConnectionState=mt={}));class Fu{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(i){r(i);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,mt.CONNECTING),s.onclose=i=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${i.code}: ${i.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,mt.DISCONNECTED)},s.onopen=i=>{var o;t(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,mt.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},s.onmessage=i=>{var o,a;if(i.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(i.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,mt.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}vt.WalletLinkWebSocket=Fu;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.WalletLinkConnection=void 0;const ut=Y,Du=Gr,xe=Lt,fo=Ee,dt=Mt,ju=Zr,yr=vt,go=1e4,Hu=6e4;class Uu{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:s,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,ut.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>a.JsonRpcUrl&&this.handleChainUpdated(c,a.JsonRpcUrl)]]).forEach((c,u)=>{const h=a[u];h!==void 0&&c(h)})},this.handleDestroyed=a=>{var l,c;a==="1"&&((l=this.listener)===null||l===void 0||l.resetAndReload(),(c=this.diagnostic)===null||c===void 0||c.log(xe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:dt.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var l,c;try{const u=await this.cipher.decrypt(a);(l=this.listener)===null||l===void 0||l.accountUpdated(u)}catch{(c=this.diagnostic)===null||c===void 0||c.log(xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,l)=>{var c,u;try{const h=await this.cipher.decrypt(l);(c=this.listener)===null||c===void 0||c.metadataUpdated(a,h)}catch{(u=this.diagnostic)===null||u===void 0||u.log(xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(fo.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(fo.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,l)=>{var c,u;try{const h=await this.cipher.decrypt(a),d=await this.cipher.decrypt(l);(c=this.listener)===null||c===void 0||c.chainUpdated(h,d)}catch{(u=this.diagnostic)===null||u===void 0||u.log(xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new Du.Cipher(t.secret),this.diagnostic=s,this.listener=n;const o=new yr.WalletLinkWebSocket(`${r}/rpc`,i);o.setConnectionStateListener(async a=>{var l;(l=this.diagnostic)===null||l===void 0||l.log(xe.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:dt.Session.hash(t.id)});let c=!1;switch(a){case yr.ConnectionState.DISCONNECTED:if(!this.destroyed){const u=async()=>{await new Promise(h=>setTimeout(h,5e3)),this.destroyed||o.connect().catch(()=>{u()})};u()}break;case yr.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),c=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},go),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case yr.ConnectionState.CONNECTING:break}this.connected!==c&&(this.connected=c)}),o.setIncomingDataListener(a=>{var l,c,u;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const h=a.type==="IsLinkedOK"?a.linked:void 0;(l=this.diagnostic)===null||l===void 0||l.log(xe.EVENTS.LINKED,{sessionIdHash:dt.Session.hash(t.id),linked:h,type:a.type,onlineGuests:a.onlineGuests}),this.linked=h||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(c=this.diagnostic)===null||c===void 0||c.log(xe.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:dt.Session.hash(t.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((u=this.requestResolutions.get(a.id))===null||u===void 0||u(a))}),this.ws=o,this.http=new ju.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(xe.EVENTS.STARTED_CONNECTING,{sessionIdHash:dt.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(xe.EVENTS.DISCONNECTED,{sessionIdHash:dt.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{const s=await this.cipher.decrypt(t.data),i=JSON.parse(s);if(i.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(i)}catch{(n=this.diagnostic)===null||n===void 0||n.log(xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const s=await this.makeRequest(n);if(s.type==="Fail")throw new Error(s.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:s,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(i);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>go*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=Hu){const n=t.id;this.sendData(t);let s;return Promise.race([new Promise((i,o)=>{s=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(i=>{this.requestResolutions.set(n,o=>{clearTimeout(s),i(o),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}Jr.WalletLinkConnection=Uu;var nr={},sr={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Vu=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.injectCssReset=void 0;const zu=Vu(ti);function Wu(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(zu.default)),document.documentElement.appendChild(e)}sr.injectCssReset=Wu;var Qr={};const fe=It(cl);var Kr={};const ir=It(ll),Xr=It(ul);var St={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.CloseIcon=void 0;const po=fe;function qu(e){return(0,po.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,po.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Yr.CloseIcon=qu;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.CoinbaseWalletRound=void 0;const Er=fe;function Ju(e){return(0,Er.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Er.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,Er.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,Er.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}en.CoinbaseWalletRound=Ju;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.QRCodeIcon=void 0;const Dt=fe;function Gu(e){return(0,Dt.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,Dt.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,Dt.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,Dt.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,Dt.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}tn.QRCodeIcon=Gu;var rn={};function Ha(e){this.mode=me.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],s=this.data.charCodeAt(t);s>65536?(n[0]=240|(s&1835008)>>>18,n[1]=128|(s&258048)>>>12,n[2]=128|(s&4032)>>>6,n[3]=128|s&63):s>2048?(n[0]=224|(s&61440)>>>12,n[1]=128|(s&4032)>>>6,n[2]=128|s&63):s>128?(n[0]=192|(s&1984)>>>6,n[1]=128|s&63):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ha.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Pe(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Pe.prototype={addData:function(e){var t=new Ha(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Pe.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=q.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*s,a=0;a<this.modules[i].length;a++){var l=a*s,c=this.modules[i][a];c&&(n.beginFill(0,100),n.moveTo(l,o),n.lineTo(l+s,o),n.lineTo(l+s,o+s),n.lineTo(l,o+s),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=q.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],s=e[r];if(this.modules[n][s]==null)for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)i==-2||i==2||o==-2||o==2||i==0&&o==0?this.modules[n+i][s+o]=!0:this.modules[n+i][s+o]=!1}},setupTypeNumber:function(e){for(var t=q.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=q.getBCHTypeInfo(r),s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(n>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,s=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var l=!1;i<e.length&&(l=(e[i]>>>s&1)==1);var c=q.getMask(t,n,o-a);c&&(l=!l),this.modules[n][o-a]=l,s--,s==-1&&(i++,s=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Pe.PAD0=236;Pe.PAD1=17;Pe.createData=function(e,t,r){for(var n=Te.getRSBlocks(e,t),s=new Ua,i=0;i<r.length;i++){var o=r[i];s.put(o.mode,4),s.put(o.getLength(),q.getLengthInBits(o.mode,e)),o.write(s)}for(var a=0,i=0;i<n.length;i++)a+=n[i].dataCount;if(s.getLengthInBits()>a*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+a*8+")");for(s.getLengthInBits()+4<=a*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=a*8||(s.put(Pe.PAD0,8),s.getLengthInBits()>=a*8));)s.put(Pe.PAD1,8);return Pe.createBytes(s,n)};Pe.createBytes=function(e,t){for(var r=0,n=0,s=0,i=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var l=t[a].dataCount,c=t[a].totalCount-l;n=Math.max(n,l),s=Math.max(s,c),i[a]=new Array(l);for(var u=0;u<i[a].length;u++)i[a][u]=255&e.buffer[u+r];r+=l;var h=q.getErrorCorrectPolynomial(c),d=new bt(i[a],h.getLength()-1),f=d.mod(h);o[a]=new Array(h.getLength()-1);for(var u=0;u<o[a].length;u++){var g=u+f.getLength()-o[a].length;o[a][u]=g>=0?f.get(g):0}}for(var y=0,u=0;u<t.length;u++)y+=t[u].totalCount;for(var w=new Array(y),S=0,u=0;u<n;u++)for(var a=0;a<t.length;a++)u<i[a].length&&(w[S++]=i[a][u]);for(var u=0;u<s;u++)for(var a=0;a<t.length;a++)u<o[a].length&&(w[S++]=o[a][u]);return w};var me={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ze={L:1,M:0,Q:3,H:2},He={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},q={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;q.getBCHDigit(t)-q.getBCHDigit(q.G15)>=0;)t^=q.G15<<q.getBCHDigit(t)-q.getBCHDigit(q.G15);return(e<<10|t)^q.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;q.getBCHDigit(t)-q.getBCHDigit(q.G18)>=0;)t^=q.G18<<q.getBCHDigit(t)-q.getBCHDigit(q.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return q.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case He.PATTERN000:return(t+r)%2==0;case He.PATTERN001:return t%2==0;case He.PATTERN010:return r%3==0;case He.PATTERN011:return(t+r)%3==0;case He.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case He.PATTERN101:return t*r%2+t*r%3==0;case He.PATTERN110:return(t*r%2+t*r%3)%2==0;case He.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new bt([1],0),r=0;r<e;r++)t=t.multiply(new bt([1,se.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case me.MODE_NUMBER:return 10;case me.MODE_ALPHA_NUM:return 9;case me.MODE_8BIT_BYTE:return 8;case me.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case me.MODE_NUMBER:return 12;case me.MODE_ALPHA_NUM:return 11;case me.MODE_8BIT_BYTE:return 16;case me.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case me.MODE_NUMBER:return 14;case me.MODE_ALPHA_NUM:return 13;case me.MODE_8BIT_BYTE:return 16;case me.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var i=0,o=e.isDark(n,s),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var l=-1;l<=1;l++)s+l<0||t<=s+l||a==0&&l==0||o==e.isDark(n+a,s+l)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var s=0;s<t-1;s++){var c=0;e.isDark(n,s)&&c++,e.isDark(n+1,s)&&c++,e.isDark(n,s+1)&&c++,e.isDark(n+1,s+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<t;n++)for(var s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(r+=40);for(var s=0;s<t;s++)for(var n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(r+=40);for(var u=0,s=0;s<t;s++)for(var n=0;n<t;n++)e.isDark(n,s)&&u++;var h=Math.abs(100*u/t/t-50)/5;return r+=h*10,r}},se={glog:function(e){if(e<1)throw new Error("glog("+e+")");return se.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return se.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ae=0;ae<8;ae++)se.EXP_TABLE[ae]=1<<ae;for(var ae=8;ae<256;ae++)se.EXP_TABLE[ae]=se.EXP_TABLE[ae-4]^se.EXP_TABLE[ae-5]^se.EXP_TABLE[ae-6]^se.EXP_TABLE[ae-8];for(var ae=0;ae<255;ae++)se.LOG_TABLE[se.EXP_TABLE[ae]]=ae;function bt(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}bt.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=se.gexp(se.glog(this.get(r))+se.glog(e.get(n)));return new bt(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=se.glog(this.get(0))-se.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=se.gexp(se.glog(e.get(n))+t);return new bt(r,0).mod(e)}};function Te(e,t){this.totalCount=e,this.dataCount=t}Te.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Te.getRSBlocks=function(e,t){var r=Te.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=[],i=0;i<n;i++)for(var o=r[i*3+0],a=r[i*3+1],l=r[i*3+2],c=0;c<o;c++)s.push(new Te(a,l));return s};Te.getRsBlockTable=function(e,t){switch(t){case ze.L:return Te.RS_BLOCK_TABLE[(e-1)*4+0];case ze.M:return Te.RS_BLOCK_TABLE[(e-1)*4+1];case ze.Q:return Te.RS_BLOCK_TABLE[(e-1)*4+2];case ze.H:return Te.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function Ua(){this.buffer=[],this.length=0}Ua.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Is=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Va(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,c){for(var u=s(l),h=1,d=0,f=0,g=Is.length;f<=g;f++){var y=Is[f];if(!y)throw new Error("Content too long: expected "+d+" but got "+u);switch(c){case"L":d=y[0];break;case"M":d=y[1];break;case"Q":d=y[2];break;case"H":d=y[3];break;default:throw new Error("Unknwon error correction level: "+c)}if(u<=d)break;h++}if(h>Is.length)throw new Error("Content too long");return h}function s(l){var c=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return c.length+(c.length!=l?3:0)}var i=this.options.content,o=n(i,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Pe(o,a),this.qrcode.addData(i),this.qrcode.make()}Va.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,s=n?"  ":"",i=n?`\r
`:"",o=t.width,a=t.height,l=r.length,c=o/(l+2*t.padding),u=a/(l+2*t.padding),h=typeof t.join<"u"?!!t.join:!1,d=typeof t.swap<"u"?!!t.swap:!1,f=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,g=typeof t.predefined<"u"?!!t.predefined:!1,y=g?s+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+c+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+i:"",w=s+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+i,S="",_="",p=0;p<l;p++)for(var M=0;M<l;M++){var E=r[M][p];if(E){var x=M*c+t.padding*c,H=p*u+t.padding*u;if(d){var G=x;x=H,H=G}if(h){var te=c+x,z=u+H;x=Number.isInteger(x)?Number(x):x.toFixed(2),H=Number.isInteger(H)?Number(H):H.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),_+="M"+x+","+H+" V"+z+" H"+te+" V"+H+" H"+x+" Z "}else g?S+=s+'<use x="'+x.toString()+'" y="'+H.toString()+'" href="#qrmodule" />'+i:S+=s+'<rect x="'+x.toString()+'" y="'+H.toString()+'" width="'+c+'" height="'+u+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+i}}h&&(S=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+_+'" />');let ie="";if(this.options.image!==void 0&&this.options.image.svg){const X=o*this.options.image.width/100,b=a*this.options.image.height/100,m=o/2-X/2,R=a/2-b/2;ie+=`<svg x="${m}" y="${R}" width="${X}" height="${b}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ie+=this.options.image.svg+i,ie+="</svg>"}var V="";switch(e.container){case"svg":f&&(V+='<?xml version="1.0" standalone="yes"?>'+i),V+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+i,V+=y+w+S,V+=ie,V+="</svg>";break;case"svg-viewbox":f&&(V+='<?xml version="1.0" standalone="yes"?>'+i),V+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+i,V+=y+w+S,V+=ie,V+="</svg>";break;case"g":V+='<g width="'+o+'" height="'+a+'">'+i,V+=y+w+S,V+=ie,V+="</g>";break;default:V+=(y+w+S+ie).replace(/^\s+/,"");break}return V};var Zu=Va,Qu=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.QRCode=void 0;const Ku=fe,mo=Xr,Xu=Qu(Zu),Yu=e=>{const[t,r]=(0,mo.useState)("");return(0,mo.useEffect)(()=>{var n,s;const i=new Xu.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(s=e.height)!==null&&s!==void 0?s:256,padding:0,image:e.image}),o=Buffer.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,Ku.h)("img",{src:t,alt:"QR Code"}):null};rn.QRCode=Yu;var nn={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var ed=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});nn.Spinner=void 0;const vr=fe,td=ed(ri),rd=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,vr.h)("div",{class:"-cbwsdk-spinner"},(0,vr.h)("style",null,td.default),(0,vr.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,vr.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};nn.Spinner=rd;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var za=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(St,"__esModule",{value:!0});St.CoinbaseWalletSteps=St.ConnectContent=void 0;const tt=za(ir),F=fe,nd=v,sd=Nt,id=Yr,od=en,ad=tn,cd=rn,ld=nn,ud=za(ni),As={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:Wa},dd=e=>e==="light"?"#FFFFFF":"#0A0B0D";function hd(e){const{theme:t}=e,r=(0,nd.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=As.steps;return(0,F.h)("div",{"data-testid":"connect-content",className:(0,tt.default)("-cbwsdk-connect-content",t)},(0,F.h)("style",null,ud.default),(0,F.h)("div",{className:"-cbwsdk-connect-content-header"},(0,F.h)("h2",{className:(0,tt.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,F.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,F.h)(id.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,F.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,F.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,F.h)(fd,{title:As.title,description:As.description,theme:t})),(0,F.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,F.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,F.h)(cd.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,F.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:sd.LIB_VERSION}),(0,F.h)("input",{type:"hidden",value:r})),(0,F.h)(n,{theme:t}),!e.isConnected&&(0,F.h)("div",{"data-testid":"connecting-spinner",className:(0,tt.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,F.h)(ld.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,F.h)("p",null,"Connecting...")))))}St.ConnectContent=hd;function fd({title:e,description:t,theme:r}){return(0,F.h)("div",{className:(0,tt.default)("-cbwsdk-connect-item",r)},(0,F.h)("div",null,(0,F.h)(od.CoinbaseWalletRound,null)),(0,F.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,F.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,F.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function Wa({theme:e}){return(0,F.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,F.h)("li",{className:(0,tt.default)("-cbwsdk-wallet-steps-item",e)},(0,F.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,F.h)("li",{className:(0,tt.default)("-cbwsdk-wallet-steps-item",e)},(0,F.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,F.h)("span",null,"Tap ",(0,F.h)("strong",null,"Scan")," "),(0,F.h)("span",{className:(0,tt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,F.h)(ad.QRCodeIcon,{fill:dd(e)})))))}St.CoinbaseWalletSteps=Wa;var sn={},on={};Object.defineProperty(on,"__esModule",{value:!0});on.ArrowLeftIcon=void 0;const bo=fe;function gd(e){return(0,bo.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,bo.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}on.ArrowLeftIcon=gd;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.LaptopIcon=void 0;const xs=fe;function pd(e){return(0,xs.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,xs.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,xs.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}an.LaptopIcon=pd;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.SafeIcon=void 0;const _o=fe;function md(e){return(0,_o.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,_o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}cn.SafeIcon=md;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var qa=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.TryExtensionContent=void 0;const Je=qa(ir),K=fe,Ns=Xr,bd=on,_d=an,wd=cn,yd=qa(si);function Ed({theme:e}){const[t,r]=(0,Ns.useState)(!1),n=(0,Ns.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),s=(0,Ns.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,K.h)("div",{class:(0,Je.default)("-cbwsdk-try-extension",e)},(0,K.h)("style",null,yd.default),(0,K.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,K.h)("h3",{class:(0,Je.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,K.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,K.h)("button",{class:(0,Je.default)("-cbwsdk-try-extension-cta",e),onClick:s},t?"Refresh":"Install"),(0,K.h)("div",null,!t&&(0,K.h)(bd.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,K.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,K.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,K.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,K.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,K.h)("span",{class:(0,Je.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,K.h)(_d.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,K.h)("div",{class:(0,Je.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,K.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,K.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,K.h)("span",{class:(0,Je.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,K.h)(wd.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,K.h)("div",{class:(0,Je.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}sn.TryExtensionContent=Ed;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Ja=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.ConnectDialog=void 0;const Ls=Ja(ir),Ge=fe,Ms=Xr,vd=St,Sd=sn,Cd=Ja(ii),kd=e=>{const{isOpen:t,darkMode:r}=e,[n,s]=(0,Ms.useState)(!t),[i,o]=(0,Ms.useState)(!t);(0,Ms.useEffect)(()=>{const l=[window.setTimeout(()=>{o(!t)},10)];return t?s(!1):l.push(window.setTimeout(()=>{s(!0)},360)),()=>{l.forEach(window.clearTimeout)}},[t]);const a=r?"dark":"light";return(0,Ge.h)("div",{class:(0,Ls.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Ge.h)("style",null,Cd.default),(0,Ge.h)("div",{class:(0,Ls.default)("-cbwsdk-connect-dialog-backdrop",a,i&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Ge.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Ge.h)("div",{class:(0,Ls.default)("-cbwsdk-connect-dialog-box",i&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,Ge.h)(vd.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,Ge.h)(Sd.TryExtensionContent,{theme:a}))))};Kr.ConnectDialog=kd;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.LinkFlow=void 0;const $s=fe,Rd=Kr;class Id{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,$s.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,$s.render)((0,$s.h)(Rd.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}Qr.LinkFlow=Id;var oi={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(e){var t=A&&A.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(ir),n=fe,s=Xr,i=t(ai),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(d){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=d.darkMode}attach(d){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",d.appendChild(this.root),this.render()}presentItem(d){const f=this.nextItemKey++;return this.items.set(f,d),this.render(),()=>{this.items.delete(f),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([d,f])=>(0,n.h)(e.SnackbarInstance,Object.assign({},f,{key:d}))))),this.root)}}e.Snackbar=l;const c=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,i.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));e.SnackbarContainer=c;const u=({autoExpand:h,message:d,menuItems:f})=>{const[g,y]=(0,s.useState)(!0),[w,S]=(0,s.useState)(h??!1);(0,s.useEffect)(()=>{const p=[window.setTimeout(()=>{y(!1)},1),window.setTimeout(()=>{S(!0)},1e4)];return()=>{p.forEach(window.clearTimeout)}});const _=()=>{S(!w)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",g&&"-cbwsdk-snackbar-instance-hidden",w&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:_},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},d),(0,n.h)("div",{class:"-gear-container"},!w&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),f&&f.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},f.map((p,M)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",p.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:p.onClick,key:M},(0,n.h)("svg",{width:p.svgWidth,height:p.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":p.defaultFillRule,"clip-rule":p.defaultClipRule,d:p.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",p.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},p.info)))))};e.SnackbarInstance=u})(oi);Object.defineProperty(nr,"__esModule",{value:!0});nr.WalletLinkRelayUI=void 0;const Ad=sr,xd=Qr,Nd=oi;class Ld{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new Nd.Snackbar({darkMode:t.darkMode}),this.linkFlow=new xd.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,Ad.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}nr.WalletLinkRelayUI=Ld;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.WalletLinkRelay=void 0;const ht=Jt,Md=Y,W=v,Ze=Lt,wo=Ee,Ue=Mt,$d=Jr,Qe=xt,Td=nr;class De extends wo.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;const l=this.storage.getItem(wo.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,l){const c=l.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(c[0]!==""&&!o&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const h=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(Ze.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:h})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),De.accountRequestCallbackIds.size>0&&(Array.from(De.accountRequestCallbackIds.values()).forEach(a=>{const l={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},l),{id:a}))}),De.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:s,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=s}subscribe(){const t=Ue.Session.load(this.storage)||new Ue.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,s=new $d.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:i,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:r,version:i,darkMode:o,session:t});return s.connect(),{session:t,ui:a,connection:s}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;const n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(Ze.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=Ue.Session.load(this.storage);if((s==null?void 0:s.id)===this._session.id?this.storage.clear():s&&((r=this.diagnostic)===null||r===void 0||r.log(Ze.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ue.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:i,ui:o,connection:a}=this.subscribe();this._session=i,this.connection=a,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ze.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,s){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,W.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:s||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,W.hexStringFromBuffer)(t,!0),signature:(0,W.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,W.bigIntStringFromBN)(t.weiValue),data:(0,W.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,W.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,W.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,W.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,W.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,W.bigIntStringFromBN)(t.weiValue),data:(0,W.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,W.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,W.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,W.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,W.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,W.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,W.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,W.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,l=>{if(r==null||r(),(0,Qe.isErrorResponse)(l))return a(new Error(l.errorMessage));o(l)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:s}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof Td.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;const s={type:"WEB3_REQUEST",id:t,request:r},i=Ue.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Ze.EVENTS.WEB3_REQUEST,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?Ue.Session.hash(i.id):"",isSessionMismatched:((i==null?void 0:i.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",s,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ze.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?Ue.Session.hash(i.id):"",isSessionMismatched:((i==null?void 0:i.id)!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:r.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(Ze.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){De.accountRequestCallbackIds.forEach(s=>this.invokeCallback(Object.assign(Object.assign({},t),{id:s}))),De.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,s){var i;const o=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:(0,ht.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:o,errorCode:s}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,W.randomBytesHex)(8),n=i=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,i)};return{promise:new Promise((i,o)=>{if(this.relayEventManager.callbacks.set(r,a=>{if(this.ui.hideRequestEthereumAccounts(),(0,Qe.isErrorResponse)(a))return o(new Error(a.errorMessage));i(a)}),this.ui.inlineAccountsResponse()){const a=l=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:l}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:a})}else{const a=ht.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(a)})}De.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:"selectProvider",params:{providerOptions:t}},n=(0,W.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},i=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,u=>{if((0,Qe.isErrorResponse)(u))return a(new Error(u.errorMessage));o(u)});const l=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:Md.ProviderType.Unselected}})},c=u=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:u}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:c,onCancel:l,providerOptions:t})});return{cancel:s,promise:i}}watchAsset(t,r,n,s,i,o){const a={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:s,image:i},chainId:o}};let l=null;const c=(0,W.randomBytesHex)(8),u=d=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,d),l==null||l()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const h=new Promise((d,f)=>{this.relayEventManager.callbacks.set(c,w=>{if(l==null||l(),(0,Qe.isErrorResponse)(w))return f(new Error(w.errorMessage));d(w)});const g=w=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!1}})},y=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:y,onCancel:g,type:t,address:r,symbol:n,decimals:s,image:i,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)});return{cancel:u,promise:h}}addEthereumChain(t,r,n,s,i,o){const a={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:s,chainName:i,iconUrls:n,nativeCurrency:o}};let l=null;const c=(0,W.randomBytesHex)(8),u=d=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,d),l==null||l()};return this.ui.inlineAddEthereumChain(t)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((d,f)=>{this.relayEventManager.callbacks.set(c,w=>{if(l==null||l(),(0,Qe.isErrorResponse)(w))return f(new Error(w.errorMessage));d(w)});const g=w=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},y=w=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:c,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:w}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:g,onApprove:y,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)}),cancel:u}}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},s=(0,W.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a)};return{promise:new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,h=>{if((0,Qe.isErrorResponse)(h)&&h.errorCode)return l(ht.standardErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Qe.isErrorResponse)(h))return l(new Error(h.errorMessage));a(h)});const c=h=>{var d;if(h){const f=(d=(0,ht.getErrorCode)(h))!==null&&d!==void 0?d:ht.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(s,"switchEthereumChain",h instanceof Error?h:ht.standardErrors.provider.unsupportedChain(t),f)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},u=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:h}}})};this.ui.switchEthereumChain({onCancel:c,onApprove:u,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(s,n)}),cancel:i}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return Ue.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=i=>{this.handleErrorResponse(t,r.method,i)},s=i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:i})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:s,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:s,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:s});break;default:n();break}}}Xt.WalletLinkRelay=De;De.accountRequestCallbackIds=new Set;var or={},ln={},Ga={};(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(oi,e)})(Ga);var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var Za=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});ln.RedirectDialog=void 0;const Pd=Za(ir),$e=fe,Od=sr,Bd=Ga,Fd=Za(ci);class Dd{constructor(){this.root=null}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,Od.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,$e.render)(null,this.root),t&&(0,$e.render)((0,$e.h)(jd,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}}ln.RedirectDialog=Dd;const jd=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:s})=>{const i=r?"dark":"light";return(0,$e.h)(Bd.SnackbarContainer,{darkMode:r},(0,$e.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,$e.h)("style",null,Fd.default),(0,$e.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),(0,$e.h)("div",{class:(0,Pd.default)("-cbwsdk-redirect-dialog-box",i)},(0,$e.h)("p",null,e),(0,$e.h)("button",{onClick:n},t))))};Object.defineProperty(or,"__esModule",{value:!0});or.MobileRelayUI=void 0;const Hd=ln;class Ud{constructor(t){this.attached=!1,this.darkMode=!1,this.redirectDialog=new Hd.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}redirectToCoinbaseWallet(t){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}or.MobileRelayUI=Ud;Object.defineProperty(Kt,"__esModule",{value:!0});Kt.MobileRelay=void 0;const Vd=v,zd=Xt,Wd=or;class qd extends zd.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,Vd.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof Wd.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t)}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}}Kt.MobileRelay=qd;const{Transform:Jd}=_a;var Gd=e=>class Qa extends Jd{constructor(r,n,s,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._hashBitLength=i,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(o){i=o}s(i)}_flush(r){let n=null;try{this.push(this.digest())}catch(s){n=s}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Qa(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Zd}=_a;var Qd=e=>class Ka extends Zd{constructor(r,n,s,i){super(i),this._rate=r,this._capacity=n,this._delimitedSuffix=s,this._options=i,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,s){let i=null;try{this.update(r,n)}catch(o){i=o}s(i)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let s=this._state.squeeze(r);return n!==void 0&&(s=s.toString(n)),s}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Ka(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Kd=Gd,Xd=Qd;var Yd=function(e){const t=Kd(e),r=Xd(e);return function(n,s){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,s);case"keccak256":return new t(1088,512,null,256,s);case"keccak384":return new t(832,768,null,384,s);case"keccak512":return new t(576,1024,null,512,s);case"sha3-224":return new t(1152,448,6,224,s);case"sha3-256":return new t(1088,512,6,256,s);case"sha3-384":return new t(832,768,6,384,s);case"sha3-512":return new t(576,1024,6,512,s);case"shake128":return new r(1344,256,31,s);case"shake256":return new r(1088,512,31,s);default:throw new Error("Invald algorithm: "+n)}}},Xa={};const yo=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Xa.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],i=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],u=e[8]^e[18]^e[28]^e[38]^e[48],h=e[9]^e[19]^e[29]^e[39]^e[49];let d=u^(s<<1|i>>>31),f=h^(i<<1|s>>>31);const g=e[0]^d,y=e[1]^f,w=e[10]^d,S=e[11]^f,_=e[20]^d,p=e[21]^f,M=e[30]^d,E=e[31]^f,x=e[40]^d,H=e[41]^f;d=r^(o<<1|a>>>31),f=n^(a<<1|o>>>31);const G=e[2]^d,te=e[3]^f,z=e[12]^d,ie=e[13]^f,V=e[22]^d,X=e[23]^f,b=e[32]^d,m=e[33]^f,R=e[42]^d,k=e[43]^f;d=s^(l<<1|c>>>31),f=i^(c<<1|l>>>31);const I=e[4]^d,C=e[5]^f,N=e[14]^d,O=e[15]^f,$=e[24]^d,j=e[25]^f,re=e[34]^d,U=e[35]^f,Z=e[44]^d,Ce=e[45]^f;d=o^(u<<1|h>>>31),f=a^(h<<1|u>>>31);const Ft=e[6]^d,_r=e[7]^f,Pi=e[16]^d,Oi=e[17]^f,Bi=e[26]^d,Fi=e[27]^f,Di=e[36]^d,ji=e[37]^f,Hi=e[46]^d,Ui=e[47]^f;d=l^(r<<1|n>>>31),f=c^(n<<1|r>>>31);const Vi=e[8]^d,zi=e[9]^f,Wi=e[18]^d,qi=e[19]^f,Ji=e[28]^d,Gi=e[29]^f,Zi=e[38]^d,Qi=e[39]^f,Ki=e[48]^d,Xi=e[49]^f,Ln=g,Mn=y,$n=S<<4|w>>>28,Tn=w<<4|S>>>28,Pn=_<<3|p>>>29,On=p<<3|_>>>29,Bn=E<<9|M>>>23,Fn=M<<9|E>>>23,Dn=x<<18|H>>>14,jn=H<<18|x>>>14,Hn=G<<1|te>>>31,Un=te<<1|G>>>31,Vn=ie<<12|z>>>20,zn=z<<12|ie>>>20,Wn=V<<10|X>>>22,qn=X<<10|V>>>22,Jn=m<<13|b>>>19,Gn=b<<13|m>>>19,Zn=R<<2|k>>>30,Qn=k<<2|R>>>30,Kn=C<<30|I>>>2,Xn=I<<30|C>>>2,Yn=N<<6|O>>>26,es=O<<6|N>>>26,ts=j<<11|$>>>21,rs=$<<11|j>>>21,ns=re<<15|U>>>17,ss=U<<15|re>>>17,is=Ce<<29|Z>>>3,os=Z<<29|Ce>>>3,as=Ft<<28|_r>>>4,cs=_r<<28|Ft>>>4,ls=Oi<<23|Pi>>>9,us=Pi<<23|Oi>>>9,ds=Bi<<25|Fi>>>7,hs=Fi<<25|Bi>>>7,fs=Di<<21|ji>>>11,gs=ji<<21|Di>>>11,ps=Ui<<24|Hi>>>8,ms=Hi<<24|Ui>>>8,bs=Vi<<27|zi>>>5,_s=zi<<27|Vi>>>5,ws=Wi<<20|qi>>>12,ys=qi<<20|Wi>>>12,Es=Gi<<7|Ji>>>25,vs=Ji<<7|Gi>>>25,Ss=Zi<<8|Qi>>>24,Cs=Qi<<8|Zi>>>24,ks=Ki<<14|Xi>>>18,Rs=Xi<<14|Ki>>>18;e[0]=Ln^~Vn&ts,e[1]=Mn^~zn&rs,e[10]=as^~ws&Pn,e[11]=cs^~ys&On,e[20]=Hn^~Yn&ds,e[21]=Un^~es&hs,e[30]=bs^~$n&Wn,e[31]=_s^~Tn&qn,e[40]=Kn^~ls&Es,e[41]=Xn^~us&vs,e[2]=Vn^~ts&fs,e[3]=zn^~rs&gs,e[12]=ws^~Pn&Jn,e[13]=ys^~On&Gn,e[22]=Yn^~ds&Ss,e[23]=es^~hs&Cs,e[32]=$n^~Wn&ns,e[33]=Tn^~qn&ss,e[42]=ls^~Es&Bn,e[43]=us^~vs&Fn,e[4]=ts^~fs&ks,e[5]=rs^~gs&Rs,e[14]=Pn^~Jn&is,e[15]=On^~Gn&os,e[24]=ds^~Ss&Dn,e[25]=hs^~Cs&jn,e[34]=Wn^~ns&ps,e[35]=qn^~ss&ms,e[44]=Es^~Bn&Zn,e[45]=vs^~Fn&Qn,e[6]=fs^~ks&Ln,e[7]=gs^~Rs&Mn,e[16]=Jn^~is&as,e[17]=Gn^~os&cs,e[26]=Ss^~Dn&Hn,e[27]=Cs^~jn&Un,e[36]=ns^~ps&bs,e[37]=ss^~ms&_s,e[46]=Bn^~Zn&Kn,e[47]=Fn^~Qn&Xn,e[8]=ks^~Ln&Vn,e[9]=Rs^~Mn&zn,e[18]=is^~as&ws,e[19]=os^~cs&ys,e[28]=Dn^~Hn&Yn,e[29]=jn^~Un&es,e[38]=ps^~bs&$n,e[39]=ms^~_s&Tn,e[48]=Zn^~Kn&ls,e[49]=Qn^~Xn&us,e[0]^=yo[t*2],e[1]^=yo[t*2+1]}};const $r=Xa;function Tt(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Tt.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};Tt.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&($r.p1600(this.state),this.count=0)};Tt.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&$r.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),$r.p1600(this.state),this.count=0,this.squeezing=!0};Tt.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&($r.p1600(this.state),this.count=0);return t};Tt.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var eh=Tt,th=Yd(eh);const rh=th,nh=Or;function Ya(e){return Buffer.allocUnsafe(e).fill(0)}function ec(e,t,r){const n=Ya(t);return e=un(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function sh(e,t){return ec(e,t,!0)}function un(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")tc(e)?e=Buffer.from(ah(rc(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(nh.isBN(e))e=e.toArrayLike(Buffer);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function ih(e){return e=un(e),"0x"+e.toString("hex")}function oh(e,t){return e=un(e),t||(t=256),rh("keccak"+t).update(e).digest()}function ah(e){return e.length%2?"0"+e:e}function tc(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function rc(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var nc={zeros:Ya,setLength:ec,setLengthRight:sh,isHexString:tc,stripHexPrefix:rc,toBuffer:un,bufferToHex:ih,keccak:oh};const rt=nc,Ye=Or;function sc(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function _t(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Eo(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function ic(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function Ke(e){var t=typeof e;if(t==="string")return rt.isHexString(e)?new Ye(rt.stripHexPrefix(e),16):new Ye(e,10);if(t==="number")return new Ye(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Me(e,t){var r,n,s,i;if(e==="address")return Me("uint160",Ke(t));if(e==="bool")return Me("uint8",t?1:0);if(e==="string")return Me("bytes",new Buffer(t,"utf8"));if(lh(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=ic(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);s=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(i in t)s.push(Me(e,t[i]));if(r==="dynamic"){var o=Me("uint256",t.length);s.unshift(o)}return Buffer.concat(s)}else{if(e==="bytes")return t=new Buffer(t),s=Buffer.concat([Me("uint256",t.length),t]),t.length%32!==0&&(s=Buffer.concat([s,rt.zeros(32-t.length%32)])),s;if(e.startsWith("bytes")){if(r=_t(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return rt.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=_t(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ke(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(e.startsWith("int")){if(r=_t(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ke(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=Eo(e),n=Ke(t),n<0)throw new Error("Supplied ufixed is negative");return Me("uint256",n.mul(new Ye(2).pow(new Ye(r[1]))))}else if(e.startsWith("fixed"))return r=Eo(e),Me("int256",Ke(t).mul(new Ye(2).pow(new Ye(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function ch(e){return e==="string"||e==="bytes"||ic(e)==="dynamic"}function lh(e){return e.lastIndexOf("]")===e.length-1}function uh(e,t){var r=[],n=[],s=32*e.length;for(var i in e){var o=sc(e[i]),a=t[i],l=Me(o,a);ch(o)?(r.push(Me("uint256",s)),n.push(l),s+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function oc(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,s=[],i=0;i<e.length;i++){var o=sc(e[i]),a=t[i];if(o==="bytes")s.push(a);else if(o==="string")s.push(new Buffer(a,"utf8"));else if(o==="bool")s.push(new Buffer(a?"01":"00","hex"));else if(o==="address")s.push(rt.setLength(a,20));else if(o.startsWith("bytes")){if(r=_t(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);s.push(rt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=_t(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ke(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());s.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=_t(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ke(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());s.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(s)}function dh(e,t){return rt.keccak(oc(e,t))}var hh={rawEncode:uh,solidityPack:oc,soliditySHA3:dh};const Re=nc,Vt=hh,ac={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ts={encodeData(e,t,r,n=!0){const s=["bytes32"],i=[this.hashType(e,r)];if(n){const o=(a,l,c)=>{if(r[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Re.keccak(this.encodeData(l,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Re.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Re.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),h=c.map(d=>o(a,u,d));return["bytes32",Re.keccak(Vt.rawEncode(h.map(([d])=>d),h.map(([,d])=>d)))]}return[l,c]};for(const a of r[e]){const[l,c]=o(a.name,a.type,t[a.name]);s.push(l),i.push(c)}}else for(const o of r[e]){let a=t[o.name];if(a!==void 0)if(o.type==="bytes")s.push("bytes32"),a=Re.keccak(a),i.push(a);else if(o.type==="string")s.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Re.keccak(a),i.push(a);else if(r[o.type]!==void 0)s.push("bytes32"),a=Re.keccak(this.encodeData(o.type,a,r,n)),i.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(o.type),i.push(a)}}return Vt.rawEncode(s,i)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(s=>s!==e);n=[e].concat(n.sort());for(const s of n){if(!t[s])throw new Error("No type definition specified: "+s);r+=s+"("+t[s].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const s of this.findTypeDependencies(n.type,t,r))!r.includes(s)&&r.push(s);return r},hashStruct(e,t,r,n=!0){return Re.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Re.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in ac.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Re.keccak(Buffer.concat(n))}};var fh={TYPED_MESSAGE_SCHEMA:ac,TypedDataUtils:Ts,hashForSignTypedDataLegacy:function(e){return gh(e.data)},hashForSignTypedData_v3:function(e){return Ts.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ts.hash(e.data)}};function gh(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(i){return i.type==="bytes"?Re.toBuffer(i.value):i.value}),n=e.map(function(i){return i.type}),s=e.map(function(i){if(!i.name)throw t;return i.type+" "+i.name});return Vt.soliditySHA3(["bytes32","bytes32"],[Vt.soliditySHA3(new Array(e.length).fill("string"),s),Vt.soliditySHA3(n,r)])}var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.filterFromParam=Ct.FilterPolyfill=void 0;const pt=Y,ue=v,ph=5*60*1e3,Xe={jsonrpc:"2.0",id:0};class mh{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,pt.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){const r=cc(t),n=this.makeFilterId(),s=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",s),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ue.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,ue.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,ue.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,ue.intNumberFromHexString)(t);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,ue.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Sr())}async getFilterLogs(t){const r=(0,ue.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Xe),{method:"eth_getLogs",params:[vo(n)]})):Sr()}makeFilterId(){return(0,pt.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(s,i)=>{if(s)return n(s);if(Array.isArray(i)||i==null)return n(new Error(`unexpected response received: ${JSON.stringify(i)}`));r(i)})})}deleteFilter(t){console.info(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return Sr();const s=await this.getCurrentBlockHeight(),i=r.toBlock==="latest"?s:r.toBlock;if(n>s||n>Number(r.toBlock))return Cr();console.info(`Fetching logs from ${n} to ${i} for filter ${t}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Xe),{method:"eth_getLogs",params:[vo(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:i}))]}));if(Array.isArray(o.result)){const a=o.result.map(c=>(0,ue.intNumberFromHexString)(c.blockNumber||"0x0")),l=Math.max(...a);if(l&&l>n){const c=(0,pt.IntNumber)(l+1);console.info(`Moving cursor position for filter (${t}) from ${n} to ${c}`),this.cursors.set(t,c)}}return o}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return Sr();const n=await this.getCurrentBlockHeight();if(r>n)return Cr();console.info(`Fetching blocks from ${r} to ${n} for filter (${t})`);const s=(await Promise.all((0,ue.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,pt.IntNumber)(o))))).filter(o=>!!o),i=(0,pt.IntNumber)(r+s.length);return console.info(`Moving cursor position for filter (${t}) from ${r} to ${i}`),this.cursors.set(t,i),Object.assign(Object.assign({},Xe),{result:s})}async getPendingTransactionFilterChanges(t){return Promise.resolve(Cr())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),s=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,s),s}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.info(`Filter (${t}) timed out`),this.deleteFilter(t)},ph);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},Xe),{method:"eth_blockNumber",params:[]}));return(0,ue.intNumberFromHexString)((0,ue.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Xe),{method:"eth_getBlockByNumber",params:[(0,ue.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ue.ensureHexString)(r.result.hash):null}}Ct.FilterPolyfill=mh;function cc(e){return{fromBlock:So(e.fromBlock),toBlock:So(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}Ct.filterFromParam=cc;function vo(e){const t={fromBlock:Co(e.fromBlock),toBlock:Co(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function So(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,pt.IntNumber)(0);if((0,ue.isHexString)(e))return(0,ue.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function Co(e){return e==="latest"?e:(0,ue.hexStringFromIntNumber)(e)}function Sr(){return Object.assign(Object.assign({},Xe),{error:{code:-32e3,message:"filter not found"}})}function Cr(){return Object.assign(Object.assign({},Xe),{result:[]})}var dn={},lc={},hn={},li=bh;function bh(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const ko=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let s=0;s<arguments.length;s++)n[s]=arguments[s];return new r((s,i)=>{t.errorFirst?n.push(function(o,a){if(t.multiArgs){const l=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)l[c-1]=arguments[c];o?(l.unshift(o),i(l)):s(l)}else o?i(o):s(a)}):n.push(function(o){if(t.multiArgs){const a=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)a[l]=arguments[l];s(a)}else s(o)}),e.apply(this,n)})};var _h=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=s=>{const i=o=>typeof o=="string"?s===o:o.test(s);return t.include?t.include.some(i):!t.exclude.some(i)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):ko(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];n[s]=typeof i=="function"&&r(s)?ko(i,t):i}return n},ar={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});const wh=wa;function Ro(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function yh(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let Eh=class extends wh.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")Ro(i,this,r);else{const o=i.length,a=yh(i);for(let l=0;l<o;l+=1)Ro(a[l],this,r)}return!0}};cr.default=Eh;var vh=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});ar.BaseBlockTracker=void 0;const Sh=vh(cr),Ch=1e3,kh=(e,t)=>e+t,Io=["sync","latest"];class Rh extends Sh.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*Ch,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){Io.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Io.map(t=>this.listenerCount(t)).reduce(kh)}_shouldUseNewBlock(t){const r=this._currentBlock;if(!r)return!0;const n=Ao(t),s=Ao(r);return this._usePastBlocks&&n<s||n>s}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ar.BaseBlockTracker=Rh;function Ao(e){return Number.parseInt(e,16)}var uc={},dc={},ce={};class hc extends TypeError{constructor(t,r){let n;const{message:s,explanation:i,...o}=t,{path:a}=t,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function Ih(e){return Se(e)&&typeof e[Symbol.iterator]=="function"}function Se(e){return typeof e=="object"&&e!=null}function xo(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function ee(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Ah(e){const{done:t,value:r}=e.next();return t?void 0:r}function xh(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=r,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ee(n)}\``}=e;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...e,message:l}}function*Js(e,t,r,n){Ih(e)||(e=[e]);for(const s of e){const i=xh(s,t,r,n);i&&(yield i)}}function*ui(e,t,r={}){const{path:n=[],branch:s=[e],coerce:i=!1,mask:o=!1}=r,a={path:n,branch:s};if(i&&(e=t.coercer(e,a),o&&t.type!=="type"&&Se(t.schema)&&Se(e)&&!Array.isArray(e)))for(const c in e)t.schema[c]===void 0&&delete e[c];let l="valid";for(const c of t.validator(e,a))c.explanation=r.message,l="not_valid",yield[c,void 0];for(let[c,u,h]of t.entries(e,a)){const d=ui(u,h,{path:c===void 0?n:[...n,c],branch:c===void 0?s:[...s,u],coerce:i,mask:o,message:r.message});for(const f of d)f[0]?(l=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):i&&(u=f[1],c===void 0?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):Se(e)&&(u!==void 0||c in e)&&(e[c]=u))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=r.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}class Q{constructor(t){const{type:r,schema:n,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,s?this.validator=(l,c)=>{const u=s(l,c);return Js(u,c,this,l)}:this.validator=()=>[],i?this.refiner=(l,c)=>{const u=i(l,c);return Js(u,c,this,l)}:this.refiner=()=>[]}assert(t,r){return fc(t,this,r)}create(t,r){return gc(t,this,r)}is(t){return di(t,this)}mask(t,r){return pc(t,this,r)}validate(t,r={}){return Pt(t,this,r)}}function fc(e,t,r){const n=Pt(e,t,{message:r});if(n[0])throw n[0]}function gc(e,t,r){const n=Pt(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function pc(e,t,r){const n=Pt(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function di(e,t){return!Pt(e,t)[0]}function Pt(e,t,r={}){const n=ui(e,t,r),s=Ah(n);return s[0]?[new hc(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Nh(...e){const t=e[0].type==="type",r=e.map(s=>s.schema),n=Object.assign({},...r);return t?ur(n):lr(n)}function ge(e,t){return new Q({type:e,schema:null,validator:t})}function Lh(e,t){return new Q({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function Mh(e){return new Q({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function $h(e){let t;return new Q({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function Th(e,t){const{schema:r}=e,n={...r};for(const s of t)delete n[s];switch(e.type){case"type":return ur(n);default:return lr(n)}}function Ph(e){const t=e instanceof Q,r=t?{...e.schema}:{...e};for(const n in r)r[n]=mc(r[n]);return t&&e.type==="type"?ur(r):lr(r)}function Oh(e,t){const{schema:r}=e,n={};for(const s of t)n[s]=r[s];switch(e.type){case"type":return ur(n);default:return lr(n)}}function Bh(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ge(e,t)}function Fh(){return ge("any",()=>!0)}function Dh(e){return new Q({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${ee(t)}`}})}function jh(){return ge("bigint",e=>typeof e=="bigint")}function Hh(){return ge("boolean",e=>typeof e=="boolean")}function Uh(){return ge("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${ee(e)}`)}function Vh(e){const t={},r=e.map(n=>ee(n)).join();for(const n of e)t[n]=n;return new Q({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${ee(n)}`}})}function zh(){return ge("func",e=>typeof e=="function"||`Expected a function, but received: ${ee(e)}`)}function Wh(e){return ge("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${ee(t)}`)}function qh(){return ge("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${ee(e)}`)}function Jh(e){return new Q({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function Gh(e){const t=ee(e),r=typeof e;return new Q({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${ee(n)}`}})}function Zh(e,t){return new Q({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,e],yield[n,s,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ee(r)}`}})}function hi(){return ge("never",()=>!1)}function Qh(e){return new Q({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Kh(){return ge("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${ee(e)}`)}function lr(e){const t=e?Object.keys(e):[],r=hi();return new Q({type:"object",schema:e||null,*entries(n){if(e&&Se(n)){const s=new Set(Object.keys(n));for(const i of t)s.delete(i),yield[i,n[i],e[i]];for(const i of s)yield[i,n[i],r]}},validator(n){return Se(n)||`Expected an object, but received: ${ee(n)}`},coercer(n){return Se(n)?{...n}:n}})}function mc(e){return new Q({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Xh(e,t){return new Q({type:"record",schema:null,*entries(r){if(Se(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator(r){return Se(r)||`Expected an object, but received: ${ee(r)}`}})}function Yh(){return ge("regexp",e=>e instanceof RegExp)}function e0(e){return new Q({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${ee(t)}`}})}function bc(){return ge("string",e=>typeof e=="string"||`Expected a string, but received: ${ee(e)}`)}function t0(e){const t=hi();return new Q({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ee(r)}`}})}function ur(e){const t=Object.keys(e);return new Q({type:"type",schema:e,*entries(r){if(Se(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Se(r)||`Expected an object, but received: ${ee(r)}`},coercer(r){return Se(r)?{...r}:r}})}function r0(e){const t=e.map(r=>r.type).join(" | ");return new Q({type:"union",schema:null,coercer(r){for(const n of e){const[s,i]=n.validate(r,{coerce:!0});if(!s)return i}return r},validator(r,n){const s=[];for(const i of e){const[...o]=ui(r,i,n),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${ee(r)}`,...s]}})}function _c(){return ge("unknown",()=>!0)}function fi(e,t,r){return new Q({...e,coercer:(n,s)=>di(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}function n0(e,t,r={}){return fi(e,_c(),n=>{const s=typeof t=="function"?t():t;if(n===void 0)return s;if(!r.strict&&xo(n)&&xo(s)){const i={...n};let o=!1;for(const a in s)i[a]===void 0&&(i[a]=s[a],o=!0);if(o)return i}return n})}function s0(e){return fi(e,bc(),t=>t.trim())}function i0(e){return at(e,"empty",t=>{const r=wc(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function wc(e){return e instanceof Map||e instanceof Set?e.size:e.length}function o0(e,t,r={}){const{exclusive:n}=r;return at(e,"max",s=>n?s<t:s<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${s}\``)}function a0(e,t,r={}){const{exclusive:n}=r;return at(e,"min",s=>n?s>t:s>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${s}\``)}function c0(e){return at(e,"nonempty",t=>wc(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function l0(e,t){return at(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function u0(e,t,r=t){const n=`Expected a ${e.type}`,s=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return at(e,"size",i=>{if(typeof i=="number"||i instanceof Date)return t<=i&&i<=r||`${n} ${s} but received \`${i}\``;if(i instanceof Map||i instanceof Set){const{size:o}=i;return t<=o&&o<=r||`${n} with a size ${s} but received one with a size of \`${o}\``}else{const{length:o}=i;return t<=o&&o<=r||`${n} with a length ${s} but received one with a length of \`${o}\``}})}function at(e,t,r){return new Q({...e,*refiner(n,s){yield*e.refiner(n,s);const i=r(n,s),o=Js(i,s,e,n);for(const a of o)yield{...a,refinement:t}}})}const d0=Object.freeze(Object.defineProperty({__proto__:null,Struct:Q,StructError:hc,any:Fh,array:Dh,assert:fc,assign:Nh,bigint:jh,boolean:Hh,coerce:fi,create:gc,date:Uh,defaulted:n0,define:ge,deprecated:Lh,dynamic:Mh,empty:i0,enums:Vh,func:zh,instance:Wh,integer:qh,intersection:Jh,is:di,lazy:$h,literal:Gh,map:Zh,mask:pc,max:o0,min:a0,never:hi,nonempty:c0,nullable:Qh,number:Kh,object:lr,omit:Th,optional:mc,partial:Ph,pattern:l0,pick:Oh,record:Xh,refine:at,regexp:Yh,set:e0,size:u0,string:bc,struct:Bh,trimmed:s0,tuple:t0,type:ur,union:r0,unknown:_c,validate:Pt},Symbol.toStringTag,{value:"Module"})),ct=It(d0);Object.defineProperty(ce,"__esModule",{value:!0});ce.assertExhaustive=ce.assertStruct=ce.assert=ce.AssertionError=void 0;const h0=ct;function f0(e){return typeof e=="object"&&e!==null&&"message"in e}function g0(e){var t,r;return typeof((r=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function p0(e){const t=f0(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function yc(e,t){return g0(e)?new e({message:t}):e({message:t})}class gi extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}ce.AssertionError=gi;function m0(e,t="Assertion failed.",r=gi){if(!e)throw t instanceof Error?t:yc(r,t)}ce.assert=m0;function b0(e,t,r="Assertion failed",n=gi){try{(0,h0.assert)(e,t)}catch(s){throw yc(n,`${r}: ${p0(s)}.`)}}ce.assertStruct=b0;function _0(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}ce.assertExhaustive=_0;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.base64=void 0;const w0=ct,y0=ce,E0=(e,t={})=>{var r,n;const s=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,i=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let o;i==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,y0.assert)(i==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return s?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,w0.pattern)(e,a)};dr.base64=E0;var D={},hr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=ct,r=ce;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(c){return(0,t.is)(c,e.HexStruct)}e.isHexString=n;function s(c){return(0,t.is)(c,e.StrictHexStruct)}e.isStrictHexString=s;function i(c){(0,r.assert)(n(c),"Value must be a hexadecimal string.")}e.assertIsHexString=i;function o(c){(0,r.assert)(s(c),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=o;function a(c){return c.startsWith("0x")?c:c.startsWith("0X")?`0x${c.substring(2)}`:`0x${c}`}e.add0x=a;function l(c){return c.startsWith("0x")||c.startsWith("0X")?c.substring(2):c}e.remove0x=l})(hr);Object.defineProperty(D,"__esModule",{value:!0});D.createDataView=D.concatBytes=D.valueToBytes=D.stringToBytes=D.numberToBytes=D.signedBigIntToBytes=D.bigIntToBytes=D.hexToBytes=D.bytesToString=D.bytesToNumber=D.bytesToSignedBigInt=D.bytesToBigInt=D.bytesToHex=D.assertIsBytes=D.isBytes=void 0;const be=ce,Gs=hr,No=48,Lo=58,Mo=87;function v0(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const S0=v0();function pi(e){return e instanceof Uint8Array}D.isBytes=pi;function Ot(e){(0,be.assert)(pi(e),"Value must be a Uint8Array.")}D.assertIsBytes=Ot;function Ec(e){if(Ot(e),e.length===0)return"0x";const t=S0(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Gs.add0x)(r.join(""))}D.bytesToHex=Ec;function vc(e){Ot(e);const t=Ec(e);return BigInt(t)}D.bytesToBigInt=vc;function C0(e){Ot(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}D.bytesToSignedBigInt=C0;function k0(e){Ot(e);const t=vc(e);return(0,be.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}D.bytesToNumber=k0;function R0(e){return Ot(e),new TextDecoder().decode(e)}D.bytesToString=R0;function fn(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Gs.assertIsHexString)(e);const r=(0,Gs.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const o=n.charCodeAt(i*2),a=n.charCodeAt(i*2+1),l=o-(o<Lo?No:Mo),c=a-(a<Lo?No:Mo);s[i]=l*16+c}return s}D.hexToBytes=fn;function Sc(e){(0,be.assert)(typeof e=="bigint","Value must be a bigint."),(0,be.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return fn(t)}D.bigIntToBytes=Sc;function I0(e,t){(0,be.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function A0(e,t){(0,be.assert)(typeof e=="bigint","Value must be a bigint."),(0,be.assert)(typeof t=="number","Byte length must be a number."),(0,be.assert)(t>0,"Byte length must be greater than 0."),(0,be.assert)(I0(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let s=0;s<n.length;s++)n[s]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}D.signedBigIntToBytes=A0;function Cc(e){(0,be.assert)(typeof e=="number","Value must be a number."),(0,be.assert)(e>=0,"Value must be a non-negative number."),(0,be.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return fn(t)}D.numberToBytes=Cc;function kc(e){return(0,be.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}D.stringToBytes=kc;function Rc(e){if(typeof e=="bigint")return Sc(e);if(typeof e=="number")return Cc(e);if(typeof e=="string")return e.startsWith("0x")?fn(e):kc(e);if(pi(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}D.valueToBytes=Rc;function x0(e){const t=new Array(e.length);let r=0;for(let s=0;s<e.length;s++){const i=Rc(e[s]);t[s]=i,r+=i.length}const n=new Uint8Array(r);for(let s=0,i=0;s<t.length;s++)n.set(t[s],i),i+=t[s].length;return n}D.concatBytes=x0;function N0(e){if(typeof Buffer<"u"&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}D.createDataView=N0;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.ChecksumStruct=void 0;const $o=ct,L0=dr;gn.ChecksumStruct=(0,$o.size)((0,L0.base64)((0,$o.string)(),{paddingRequired:!0}),44,44);var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createHex=Oe.createBytes=Oe.createBigInt=Oe.createNumber=void 0;const J=ct,M0=ce,Ic=D,pn=hr,Ac=(0,J.union)([(0,J.number)(),(0,J.bigint)(),(0,J.string)(),pn.StrictHexStruct]),$0=(0,J.coerce)((0,J.number)(),Ac,Number),T0=(0,J.coerce)((0,J.bigint)(),Ac,BigInt);(0,J.union)([pn.StrictHexStruct,(0,J.instance)(Uint8Array)]);const P0=(0,J.coerce)((0,J.instance)(Uint8Array),(0,J.union)([pn.StrictHexStruct]),Ic.hexToBytes),O0=(0,J.coerce)(pn.StrictHexStruct,(0,J.instance)(Uint8Array),Ic.bytesToHex);function B0(e){try{const t=(0,J.create)(e,$0);return(0,M0.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof J.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}Oe.createNumber=B0;function F0(e){try{return(0,J.create)(e,T0)}catch(t){throw t instanceof J.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}Oe.createBigInt=F0;function D0(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,J.create)(e,P0)}catch(t){throw t instanceof J.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Oe.createBytes=D0;function j0(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,J.create)(e,O0)}catch(t){throw t instanceof J.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Oe.createHex=j0;var kt={},xc=A&&A.__classPrivateFieldSet||function(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r},de=A&&A.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ke,Ne;Object.defineProperty(kt,"__esModule",{value:!0});kt.FrozenSet=kt.FrozenMap=void 0;class mi{constructor(t){ke.set(this,void 0),xc(this,ke,new Map(t),"f"),Object.freeze(this)}get size(){return de(this,ke,"f").size}[(ke=new WeakMap,Symbol.iterator)](){return de(this,ke,"f")[Symbol.iterator]()}entries(){return de(this,ke,"f").entries()}forEach(t,r){return de(this,ke,"f").forEach((n,s,i)=>t.call(r,n,s,this))}get(t){return de(this,ke,"f").get(t)}has(t){return de(this,ke,"f").has(t)}keys(){return de(this,ke,"f").keys()}values(){return de(this,ke,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}kt.FrozenMap=mi;class bi{constructor(t){Ne.set(this,void 0),xc(this,Ne,new Set(t),"f"),Object.freeze(this)}get size(){return de(this,Ne,"f").size}[(Ne=new WeakMap,Symbol.iterator)](){return de(this,Ne,"f")[Symbol.iterator]()}entries(){return de(this,Ne,"f").entries()}forEach(t,r){return de(this,Ne,"f").forEach((n,s,i)=>t.call(r,n,s,this))}has(t){return de(this,Ne,"f").has(t)}keys(){return de(this,Ne,"f").keys()}values(){return de(this,Ne,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}kt.FrozenSet=bi;Object.freeze(mi);Object.freeze(mi.prototype);Object.freeze(bi);Object.freeze(bi.prototype);var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});var Lc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=ct,r=ce,n=()=>(0,t.define)("finite number",E=>(0,t.is)(E,(0,t.number)())&&Number.isFinite(E));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(E,x)=>{function H(G,te){const ie=[...te.validator(G,x)];return ie.length>0?ie:!0}try{const G=H(E,e.UnsafeJsonStruct);return G!==!0?G:H(JSON.parse(JSON.stringify(E)),e.UnsafeJsonStruct)}catch(G){return G instanceof RangeError?"Circular reference detected":!1}});function s(E){return(0,t.is)(E,e.JsonStruct)}e.isValidJson=s;function i(E){(0,r.assertStruct)(E,e.JsonStruct,"Invalid JSON value");const x=JSON.stringify(E);return new TextEncoder().encode(x).byteLength}e.getJsonSize=i,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function o(E){return(0,t.is)(E,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=o;function a(E,x){(0,r.assertStruct)(E,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",x)}e.assertIsJsonRpcNotification=a;function l(E){return(0,t.is)(E,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=l;function c(E,x){(0,r.assertStruct)(E,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",x)}e.assertIsJsonRpcRequest=c,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function u(E){return(0,t.is)(E,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=u;function h(E,x){(0,r.assertStruct)(E,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",x)}e.assertIsPendingJsonRpcResponse=h;function d(E){return(0,t.is)(E,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=d;function f(E,x){(0,r.assertStruct)(E,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",x)}e.assertIsJsonRpcResponse=f;function g(E){return(0,t.is)(E,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=g;function y(E,x){(0,r.assertStruct)(E,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",x)}e.assertIsJsonRpcSuccess=y;function w(E){return(0,t.is)(E,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=w;function S(E,x){(0,r.assertStruct)(E,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",x)}e.assertIsJsonRpcFailure=S;function _(E){return(0,t.is)(E,e.JsonRpcErrorStruct)}e.isJsonRpcError=_;function p(E,x){(0,r.assertStruct)(E,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",x)}e.assertIsJsonRpcError=p;function M(E){const{permitEmptyString:x,permitFractions:H,permitNull:G}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},E);return z=>!!(typeof z=="number"&&(H||Number.isInteger(z))||typeof z=="string"&&(x||z.length>0)||G&&z===null)}e.getJsonRpcIdValidator=M})(Lc);var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});var Rt={},Zs={exports:{}},Ps,To;function H0(){if(To)return Ps;To=1;var e=1e3,t=e*60,r=t*60,n=r*24,s=n*7,i=n*365.25;Ps=function(u,h){h=h||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return h.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(h){var d=parseFloat(h[1]),f=(h[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var h=Math.abs(u);return h>=n?Math.round(u/n)+"d":h>=r?Math.round(u/r)+"h":h>=t?Math.round(u/t)+"m":h>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var h=Math.abs(u);return h>=n?c(u,h,n,"day"):h>=r?c(u,h,r,"hour"):h>=t?c(u,h,t,"minute"):h>=e?c(u,h,e,"second"):u+" ms"}function c(u,h,d,f){var g=h>=d*1.5;return Math.round(u/d)+" "+f+(g?"s":"")}return Ps}function U0(e){r.debug=r,r.default=r,r.coerce=l,r.disable=i,r.enable=s,r.enabled=o,r.humanize=H0(),r.destroy=c,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let h=0;for(let d=0;d<u.length;d++)h=(h<<5)-h+u.charCodeAt(d),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(u){let h,d=null,f,g;function y(...w){if(!y.enabled)return;const S=y,_=Number(new Date),p=_-(h||_);S.diff=p,S.prev=h,S.curr=_,h=_,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let M=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(x,H)=>{if(x==="%%")return"%";M++;const G=r.formatters[H];if(typeof G=="function"){const te=w[M];x=G.call(S,te),w.splice(M,1),M--}return x}),r.formatArgs.call(S,w),(S.log||r.log).apply(S,w)}return y.namespace=u,y.useColors=r.useColors(),y.color=r.selectColor(u),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,g=r.enabled(u)),g),set:w=>{d=w}}),typeof r.init=="function"&&r.init(y),y}function n(u,h){const d=r(this.namespace+(typeof h>"u"?":":h)+u);return d.log=this.log,d}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let h;const d=(typeof u=="string"?u:"").split(/[\s,]+/),f=d.length;for(h=0;h<f;h++)d[h]&&(u=d[h].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let h,d;for(h=0,d=r.skips.length;h<d;h++)if(r.skips[h].test(u))return!1;for(h=0,d=r.names.length;h<d;h++)if(r.names[h].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var V0=U0;(function(e,t){var r={};t.formatArgs=s,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let h=0,d=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(h++,f==="%c"&&(d=h))}),c.splice(d,0,u)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=r.DEBUG),c}function a(){try{return localStorage}catch{}}e.exports=V0(t);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Zs,Zs.exports);var z0=Zs.exports,W0=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createModuleLogger=Rt.createProjectLogger=void 0;const q0=W0(z0),J0=(0,q0.default)("metamask");function G0(e){return J0.extend(e)}Rt.createProjectLogger=G0;function Z0(e,t){return e.extend(t)}Rt.createModuleLogger=Z0;var $c={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(c){return Array.isArray(c)&&c.length>0}e.isNonEmptyArray=t;function r(c){return c==null}e.isNullOrUndefined=r;function n(c){return!!c&&typeof c=="object"&&!Array.isArray(c)}e.isObject=n;const s=(c,u)=>Object.hasOwnProperty.call(c,u);e.hasProperty=s,function(c){c[c.Null=4]="Null",c[c.Comma=1]="Comma",c[c.Wrapper=1]="Wrapper",c[c.True=4]="True",c[c.False=5]="False",c[c.Quote=1]="Quote",c[c.Colon=1]="Colon",c[c.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function i(c){if(typeof c!="object"||c===null)return!1;try{let u=c;for(;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(c)===u}catch{return!1}}e.isPlainObject=i;function o(c){return c.charCodeAt(0)<=127}e.isASCII=o;function a(c){var u;return c.split("").reduce((d,f)=>o(f)?d+1:d+2,0)+((u=c.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&u!==void 0?u:[]).length}e.calculateStringSize=a;function l(c){return c.toString().length}e.calculateNumberSize=l})($c);var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.hexToBigInt=Be.hexToNumber=Be.bigIntToHex=Be.numberToHex=void 0;const wt=ce,Wt=hr,Q0=e=>((0,wt.assert)(typeof e=="number","Value must be a number."),(0,wt.assert)(e>=0,"Value must be a non-negative number."),(0,wt.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Wt.add0x)(e.toString(16)));Be.numberToHex=Q0;const K0=e=>((0,wt.assert)(typeof e=="bigint","Value must be a bigint."),(0,wt.assert)(e>=0,"Value must be a non-negative bigint."),(0,Wt.add0x)(e.toString(16)));Be.bigIntToHex=K0;const X0=e=>{(0,Wt.assertIsHexString)(e);const t=parseInt(e,16);return(0,wt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Be.hexToNumber=X0;const Y0=e=>((0,Wt.assertIsHexString)(e),BigInt((0,Wt.add0x)(e)));Be.hexToBigInt=Y0;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});var Pc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(i){i[i.Millisecond=1]="Millisecond",i[i.Second=1e3]="Second",i[i.Minute=6e4]="Minute",i[i.Hour=36e5]="Hour",i[i.Day=864e5]="Day",i[i.Week=6048e5]="Week",i[i.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=i=>Number.isInteger(i)&&i>=0,r=(i,o)=>{if(!t(i))throw new Error(`"${o}" must be a non-negative integer. Received: "${i}".`)};function n(i,o){return r(i,"count"),i*o}e.inMilliseconds=n;function s(i){return r(i,"timestamp"),Date.now()-i}e.timeSince=s})(Pc);var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});var Bc={},Qs={exports:{}};const ef="2.0.0",Fc=256,tf=Number.MAX_SAFE_INTEGER||9007199254740991,rf=16,nf=Fc-6,sf=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var mn={MAX_LENGTH:Fc,MAX_SAFE_COMPONENT_LENGTH:rf,MAX_SAFE_BUILD_LENGTH:nf,MAX_SAFE_INTEGER:tf,RELEASE_TYPES:sf,SEMVER_SPEC_VERSION:ef,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Os={};const of=typeof process=="object"&&Os&&Os.NODE_DEBUG&&/\bsemver\b/i.test(Os.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var bn=of;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=mn,i=bn;t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],c=t.t={};let u=0;const h="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",s],[h,n]],f=y=>{for(const[w,S]of d)y=y.split(`${w}*`).join(`${w}{0,${S}}`).split(`${w}+`).join(`${w}{1,${S}}`);return y},g=(y,w,S)=>{const _=f(w),p=u++;i(y,p,w),c[y]=p,l[p]=w,o[p]=new RegExp(w,S?"g":void 0),a[p]=new RegExp(_,S?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Qs,Qs.exports);var fr=Qs.exports;const af=Object.freeze({loose:!0}),cf=Object.freeze({}),lf=e=>e?typeof e!="object"?af:e:cf;var _i=lf;const Po=/^[0-9]+$/,Dc=(e,t)=>{const r=Po.test(e),n=Po.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},uf=(e,t)=>Dc(t,e);var jc={compareIdentifiers:Dc,rcompareIdentifiers:uf};const kr=bn,{MAX_LENGTH:Oo,MAX_SAFE_INTEGER:Rr}=mn,{safeRe:Bo,t:Fo}=fr,df=_i,{compareIdentifiers:ft}=jc;let hf=class Le{constructor(t,r){if(r=df(r),t instanceof Le){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Oo)throw new TypeError(`version is longer than ${Oo} characters`);kr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Bo[Fo.LOOSE]:Bo[Fo.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Rr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Rr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Rr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Rr)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(kr("SemVer.compare",this.version,this.options,t),!(t instanceof Le)){if(typeof t=="string"&&t===this.version)return 0;t=new Le(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Le||(t=new Le(t,this.options)),ft(this.major,t.major)||ft(this.minor,t.minor)||ft(this.patch,t.patch)}comparePre(t){if(t instanceof Le||(t=new Le(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(kr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ft(n,s)}while(++r)}compareBuild(t){t instanceof Le||(t=new Le(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(kr("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ft(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),ft(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var he=hf;const Do=he,ff=(e,t,r=!1)=>{if(e instanceof Do)return e;try{return new Do(e,t)}catch(n){if(!r)return null;throw n}};var Bt=ff;const gf=Bt,pf=(e,t)=>{const r=gf(e,t);return r?r.version:null};var mf=pf;const bf=Bt,_f=(e,t)=>{const r=bf(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var wf=_f;const jo=he,yf=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new jo(e instanceof jo?e.version:e,r).inc(t,n,s).version}catch{return null}};var Ef=yf;const Ho=Bt,vf=(e,t)=>{const r=Ho(e,null,!0),n=Ho(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,a=i?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=l?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var Sf=vf;const Cf=he,kf=(e,t)=>new Cf(e,t).major;var Rf=kf;const If=he,Af=(e,t)=>new If(e,t).minor;var xf=Af;const Nf=he,Lf=(e,t)=>new Nf(e,t).patch;var Mf=Lf;const $f=Bt,Tf=(e,t)=>{const r=$f(e,t);return r&&r.prerelease.length?r.prerelease:null};var Pf=Tf;const Uo=he,Of=(e,t,r)=>new Uo(e,r).compare(new Uo(t,r));var Ie=Of;const Bf=Ie,Ff=(e,t,r)=>Bf(t,e,r);var Df=Ff;const jf=Ie,Hf=(e,t)=>jf(e,t,!0);var Uf=Hf;const Vo=he,Vf=(e,t,r)=>{const n=new Vo(e,r),s=new Vo(t,r);return n.compare(s)||n.compareBuild(s)};var wi=Vf;const zf=wi,Wf=(e,t)=>e.sort((r,n)=>zf(r,n,t));var qf=Wf;const Jf=wi,Gf=(e,t)=>e.sort((r,n)=>Jf(n,r,t));var Zf=Gf;const Qf=Ie,Kf=(e,t,r)=>Qf(e,t,r)>0;var _n=Kf;const Xf=Ie,Yf=(e,t,r)=>Xf(e,t,r)<0;var yi=Yf;const e1=Ie,t1=(e,t,r)=>e1(e,t,r)===0;var Hc=t1;const r1=Ie,n1=(e,t,r)=>r1(e,t,r)!==0;var Uc=n1;const s1=Ie,i1=(e,t,r)=>s1(e,t,r)>=0;var Ei=i1;const o1=Ie,a1=(e,t,r)=>o1(e,t,r)<=0;var vi=a1;const c1=Hc,l1=Uc,u1=_n,d1=Ei,h1=yi,f1=vi,g1=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return c1(e,r,n);case"!=":return l1(e,r,n);case">":return u1(e,r,n);case">=":return d1(e,r,n);case"<":return h1(e,r,n);case"<=":return f1(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Vc=g1;const p1=he,m1=Bt,{safeRe:Ir,t:Ar}=fr,b1=(e,t)=>{if(e instanceof p1)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Ir[Ar.COERCEFULL]:Ir[Ar.COERCE]);else{const l=t.includePrerelease?Ir[Ar.COERCERTLFULL]:Ir[Ar.COERCERTL];let c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return m1(`${n}.${s}.${i}${o}${a}`,t)};var _1=b1;class w1{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var y1=w1,Bs,zo;function Ae(){if(zo)return Bs;zo=1;const e=/\s+/g;class t{constructor(m,R){if(R=s(R),m instanceof t)return m.loose===!!R.loose&&m.includePrerelease===!!R.includePrerelease?m:new t(m.raw,R);if(m instanceof i)return this.raw=m.value,this.set=[[m]],this.formatted=void 0,this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=m.trim().replace(e," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const k=this.set[0];if(this.set=this.set.filter(I=>!y(I[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&w(I[0])){this.set=[I];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let m=0;m<this.set.length;m++){m>0&&(this.formatted+="||");const R=this.set[m];for(let k=0;k<R.length;k++)k>0&&(this.formatted+=" "),this.formatted+=R[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(m){const k=((this.options.includePrerelease&&f)|(this.options.loose&&g))+":"+m,I=n.get(k);if(I)return I;const C=this.options.loose,N=C?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];m=m.replace(N,V(this.options.includePrerelease)),o("hyphen replace",m),m=m.replace(l[c.COMPARATORTRIM],u),o("comparator trim",m),m=m.replace(l[c.TILDETRIM],h),o("tilde trim",m),m=m.replace(l[c.CARETTRIM],d),o("caret trim",m);let O=m.split(" ").map(U=>_(U,this.options)).join(" ").split(/\s+/).map(U=>ie(U,this.options));C&&(O=O.filter(U=>(o("loose invalid filter",U,this.options),!!U.match(l[c.COMPARATORLOOSE])))),o("range list",O);const $=new Map,j=O.map(U=>new i(U,this.options));for(const U of j){if(y(U))return[U];$.set(U.value,U)}$.size>1&&$.has("")&&$.delete("");const re=[...$.values()];return n.set(k,re),re}intersects(m,R){if(!(m instanceof t))throw new TypeError("a Range is required");return this.set.some(k=>S(k,R)&&m.set.some(I=>S(I,R)&&k.every(C=>I.every(N=>C.intersects(N,R)))))}test(m){if(!m)return!1;if(typeof m=="string")try{m=new a(m,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(X(this.set[R],m,this.options))return!0;return!1}}Bs=t;const r=y1,n=new r,s=_i,i=wn(),o=bn,a=he,{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:d}=fr,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:g}=mn,y=b=>b.value==="<0.0.0-0",w=b=>b.value==="",S=(b,m)=>{let R=!0;const k=b.slice();let I=k.pop();for(;R&&k.length;)R=k.every(C=>I.intersects(C,m)),I=k.pop();return R},_=(b,m)=>(o("comp",b,m),b=x(b,m),o("caret",b),b=M(b,m),o("tildes",b),b=G(b,m),o("xrange",b),b=z(b,m),o("stars",b),b),p=b=>!b||b.toLowerCase()==="x"||b==="*",M=(b,m)=>b.trim().split(/\s+/).map(R=>E(R,m)).join(" "),E=(b,m)=>{const R=m.loose?l[c.TILDELOOSE]:l[c.TILDE];return b.replace(R,(k,I,C,N,O)=>{o("tilde",b,k,I,C,N,O);let $;return p(I)?$="":p(C)?$=`>=${I}.0.0 <${+I+1}.0.0-0`:p(N)?$=`>=${I}.${C}.0 <${I}.${+C+1}.0-0`:O?(o("replaceTilde pr",O),$=`>=${I}.${C}.${N}-${O} <${I}.${+C+1}.0-0`):$=`>=${I}.${C}.${N} <${I}.${+C+1}.0-0`,o("tilde return",$),$})},x=(b,m)=>b.trim().split(/\s+/).map(R=>H(R,m)).join(" "),H=(b,m)=>{o("caret",b,m);const R=m.loose?l[c.CARETLOOSE]:l[c.CARET],k=m.includePrerelease?"-0":"";return b.replace(R,(I,C,N,O,$)=>{o("caret",b,I,C,N,O,$);let j;return p(C)?j="":p(N)?j=`>=${C}.0.0${k} <${+C+1}.0.0-0`:p(O)?C==="0"?j=`>=${C}.${N}.0${k} <${C}.${+N+1}.0-0`:j=`>=${C}.${N}.0${k} <${+C+1}.0.0-0`:$?(o("replaceCaret pr",$),C==="0"?N==="0"?j=`>=${C}.${N}.${O}-${$} <${C}.${N}.${+O+1}-0`:j=`>=${C}.${N}.${O}-${$} <${C}.${+N+1}.0-0`:j=`>=${C}.${N}.${O}-${$} <${+C+1}.0.0-0`):(o("no pr"),C==="0"?N==="0"?j=`>=${C}.${N}.${O}${k} <${C}.${N}.${+O+1}-0`:j=`>=${C}.${N}.${O}${k} <${C}.${+N+1}.0-0`:j=`>=${C}.${N}.${O} <${+C+1}.0.0-0`),o("caret return",j),j})},G=(b,m)=>(o("replaceXRanges",b,m),b.split(/\s+/).map(R=>te(R,m)).join(" ")),te=(b,m)=>{b=b.trim();const R=m.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return b.replace(R,(k,I,C,N,O,$)=>{o("xRange",b,k,I,C,N,O,$);const j=p(C),re=j||p(N),U=re||p(O),Z=U;return I==="="&&Z&&(I=""),$=m.includePrerelease?"-0":"",j?I===">"||I==="<"?k="<0.0.0-0":k="*":I&&Z?(re&&(N=0),O=0,I===">"?(I=">=",re?(C=+C+1,N=0,O=0):(N=+N+1,O=0)):I==="<="&&(I="<",re?C=+C+1:N=+N+1),I==="<"&&($="-0"),k=`${I+C}.${N}.${O}${$}`):re?k=`>=${C}.0.0${$} <${+C+1}.0.0-0`:U&&(k=`>=${C}.${N}.0${$} <${C}.${+N+1}.0-0`),o("xRange return",k),k})},z=(b,m)=>(o("replaceStars",b,m),b.trim().replace(l[c.STAR],"")),ie=(b,m)=>(o("replaceGTE0",b,m),b.trim().replace(l[m.includePrerelease?c.GTE0PRE:c.GTE0],"")),V=b=>(m,R,k,I,C,N,O,$,j,re,U,Z)=>(p(k)?R="":p(I)?R=`>=${k}.0.0${b?"-0":""}`:p(C)?R=`>=${k}.${I}.0${b?"-0":""}`:N?R=`>=${R}`:R=`>=${R}${b?"-0":""}`,p(j)?$="":p(re)?$=`<${+j+1}.0.0-0`:p(U)?$=`<${j}.${+re+1}.0-0`:Z?$=`<=${j}.${re}.${U}-${Z}`:b?$=`<${j}.${re}.${+U+1}-0`:$=`<=${$}`,`${R} ${$}`.trim()),X=(b,m,R)=>{for(let k=0;k<b.length;k++)if(!b[k].test(m))return!1;if(m.prerelease.length&&!R.includePrerelease){for(let k=0;k<b.length;k++)if(o(b[k].semver),b[k].semver!==i.ANY&&b[k].semver.prerelease.length>0){const I=b[k].semver;if(I.major===m.major&&I.minor===m.minor&&I.patch===m.patch)return!0}return!1}return!0};return Bs}var Fs,Wo;function wn(){if(Wo)return Fs;Wo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,h){if(h=r(h),u instanceof t){if(u.loose===!!h.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,h),this.options=h,this.loose=!!h.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],d=u.match(h);if(!d)throw new TypeError(`Invalid comparator: ${u}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,h){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,h).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,h).test(u.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,h)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,h)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Fs=t;const r=_i,{safeRe:n,t:s}=fr,i=Vc,o=bn,a=he,l=Ae();return Fs}const E1=Ae(),v1=(e,t,r)=>{try{t=new E1(t,r)}catch{return!1}return t.test(e)};var yn=v1;const S1=Ae(),C1=(e,t)=>new S1(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var k1=C1;const R1=he,I1=Ae(),A1=(e,t,r)=>{let n=null,s=null,i=null;try{i=new I1(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new R1(n,r))}),n};var x1=A1;const N1=he,L1=Ae(),M1=(e,t,r)=>{let n=null,s=null,i=null;try{i=new L1(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new N1(n,r))}),n};var $1=M1;const Ds=he,T1=Ae(),qo=_n,P1=(e,t)=>{e=new T1(e,t);let r=new Ds("0.0.0");if(e.test(r)||(r=new Ds("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(o=>{const a=new Ds(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||qo(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||qo(r,i))&&(r=i)}return r&&e.test(r)?r:null};var O1=P1;const B1=Ae(),F1=(e,t)=>{try{return new B1(e,t).range||"*"}catch{return null}};var D1=F1;const j1=he,zc=wn(),{ANY:H1}=zc,U1=Ae(),V1=yn,Jo=_n,Go=yi,z1=vi,W1=Ei,q1=(e,t,r,n)=>{e=new j1(e,n),t=new U1(t,n);let s,i,o,a,l;switch(r){case">":s=Jo,i=z1,o=Go,a=">",l=">=";break;case"<":s=Go,i=W1,o=Jo,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(V1(e,t,n))return!1;for(let c=0;c<t.set.length;++c){const u=t.set[c];let h=null,d=null;if(u.forEach(f=>{f.semver===H1&&(f=new zc(">=0.0.0")),h=h||f,d=d||f,s(f.semver,h.semver,n)?h=f:o(f.semver,d.semver,n)&&(d=f)}),h.operator===a||h.operator===l||(!d.operator||d.operator===a)&&i(e,d.semver))return!1;if(d.operator===l&&o(e,d.semver))return!1}return!0};var Si=q1;const J1=Si,G1=(e,t,r)=>J1(e,t,">",r);var Z1=G1;const Q1=Si,K1=(e,t,r)=>Q1(e,t,"<",r);var X1=K1;const Zo=Ae(),Y1=(e,t,r)=>(e=new Zo(e,r),t=new Zo(t,r),e.intersects(t,r));var eg=Y1;const tg=yn,rg=Ie;var ng=(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort((u,h)=>rg(u,h,r));for(const u of o)tg(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const a=[];for(const[u,h]of n)u===h?a.push(u):!h&&u===o[0]?a.push("*"):h?u===o[0]?a.push(`<=${h}`):a.push(`${u} - ${h}`):a.push(`>=${u}`);const l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t};const Qo=Ae(),Ci=wn(),{ANY:js}=Ci,jt=yn,ki=Ie,sg=(e,t,r={})=>{if(e===t)return!0;e=new Qo(e,r),t=new Qo(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const o=og(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ig=[new Ci(">=0.0.0-0")],Ko=[new Ci(">=0.0.0")],og=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===js){if(t.length===1&&t[0].semver===js)return!0;r.includePrerelease?e=ig:e=Ko}if(t.length===1&&t[0].semver===js){if(r.includePrerelease)return!0;t=Ko}const n=new Set;let s,i;for(const f of e)f.operator===">"||f.operator===">="?s=Xo(s,f,r):f.operator==="<"||f.operator==="<="?i=Yo(i,f,r):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=ki(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const f of n){if(s&&!jt(f,String(s),r)||i&&!jt(f,String(i),r))return null;for(const g of t)if(!jt(f,String(g),r))return!1;return!0}let a,l,c,u,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&i.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const f of t){if(u=u||f.operator===">"||f.operator===">=",c=c||f.operator==="<"||f.operator==="<=",s){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator===">"||f.operator===">="){if(a=Xo(s,f,r),a===f&&a!==s)return!1}else if(s.operator===">="&&!jt(s.semver,String(f),r))return!1}if(i){if(h&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===h.major&&f.semver.minor===h.minor&&f.semver.patch===h.patch&&(h=!1),f.operator==="<"||f.operator==="<="){if(l=Yo(i,f,r),l===f&&l!==i)return!1}else if(i.operator==="<="&&!jt(i.semver,String(f),r))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&c&&!i&&o!==0||i&&u&&!s&&o!==0||d||h)},Xo=(e,t,r)=>{if(!e)return t;const n=ki(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Yo=(e,t,r)=>{if(!e)return t;const n=ki(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var ag=sg;const Hs=fr,ea=mn,cg=he,ta=jc,lg=Bt,ug=mf,dg=wf,hg=Ef,fg=Sf,gg=Rf,pg=xf,mg=Mf,bg=Pf,_g=Ie,wg=Df,yg=Uf,Eg=wi,vg=qf,Sg=Zf,Cg=_n,kg=yi,Rg=Hc,Ig=Uc,Ag=Ei,xg=vi,Ng=Vc,Lg=_1,Mg=wn(),$g=Ae(),Tg=yn,Pg=k1,Og=x1,Bg=$1,Fg=O1,Dg=D1,jg=Si,Hg=Z1,Ug=X1,Vg=eg,zg=ng,Wg=ag;var qg={parse:lg,valid:ug,clean:dg,inc:hg,diff:fg,major:gg,minor:pg,patch:mg,prerelease:bg,compare:_g,rcompare:wg,compareLoose:yg,compareBuild:Eg,sort:vg,rsort:Sg,gt:Cg,lt:kg,eq:Rg,neq:Ig,gte:Ag,lte:xg,cmp:Ng,coerce:Lg,Comparator:Mg,Range:$g,satisfies:Tg,toComparators:Pg,maxSatisfying:Og,minSatisfying:Bg,minVersion:Fg,validRange:Dg,outside:jg,gtr:Hg,ltr:Ug,intersects:Vg,simplifyRange:zg,subset:Wg,SemVer:cg,re:Hs.re,src:Hs.src,tokens:Hs.t,SEMVER_SPEC_VERSION:ea.SEMVER_SPEC_VERSION,RELEASE_TYPES:ea.RELEASE_TYPES,compareIdentifiers:ta.compareIdentifiers,rcompareIdentifiers:ta.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=qg,r=ct,n=ce;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,t.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,t.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function s(h){return(0,r.is)(h,e.VersionStruct)}e.isValidSemVerVersion=s;function i(h){return(0,r.is)(h,e.VersionRangeStruct)}e.isValidSemVerRange=i;function o(h){(0,n.assertStruct)(h,e.VersionStruct)}e.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,e.VersionRangeStruct)}e.assertIsSemVerRange=a;function l(h,d){return(0,t.gt)(h,d)}e.gtVersion=l;function c(h,d){return(0,t.gtr)(h,d)}e.gtRange=c;function u(h,d){return(0,t.satisfies)(h,d,{includePrerelease:!0})}e.satisfiesVersionRange=u})(Bc);(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(ce,e),r(dr,e),r(D,e),r(gn,e),r(Oe,e),r(kt,e),r(Nc,e),r(hr,e),r(Lc,e),r(Mc,e),r(Rt,e),r($c,e),r(Be,e),r(Tc,e),r(Pc,e),r(Oc,e),r(Bc,e)})(dc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=dc;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(uc);var Wc=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hn,"__esModule",{value:!0});hn.PollingBlockTracker=void 0;const Jg=Wc(li),Gg=Wc(_h),Zg=ar,ra=uc,na=(0,ra.createModuleLogger)(ra.projectLogger,"polling-block-tracker"),Qg=(0,Jg.default)(),Kg=1e3;class Xg extends Zg.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*Kg,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=sa(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}const s=sa(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await s}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:Qg(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),na("Making request",t);const r=await(0,Gg.default)(n=>this._provider.sendAsync(t,n))();if(na("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}hn.PollingBlockTracker=Xg;function sa(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var En={},Yg=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});En.SubscribeBlockTracker=void 0;const ep=Yg(li),tp=ar,rp=(0,ep.default)();class np extends tp.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,s)=>{this._provider.sendAsync({id:rp(),method:t,params:r,jsonrpc:"2.0"},(i,o)=>{i?s(i):n(o.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}En.SubscribeBlockTracker=np;(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(hn,e),r(En,e)})(lc);var Ri={},vn={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.getUniqueId=void 0;const qc=4294967295;let Us=Math.floor(Math.random()*qc);function sp(){return Us=(Us+1)%qc,Us}gr.getUniqueId=sp;Object.defineProperty(vn,"__esModule",{value:!0});vn.createIdRemapMiddleware=void 0;const ip=gr;function op(){return(e,t,r,n)=>{const s=e.id,i=ip.getUniqueId();e.id=i,t.id=i,r(o=>{e.id=s,t.id=s,o()})}}vn.createIdRemapMiddleware=op;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.createAsyncMiddleware=void 0;function ap(e){return async(t,r,n,s)=>{let i;const o=new Promise(u=>{i=u});let a=null,l=!1;const c=async()=>{l=!0,n(u=>{a=u,i()}),await o};try{await e(t,r,c),l?(await o,a(null)):s(null)}catch(u){a?a(u):s(u)}}}Sn.createAsyncMiddleware=ap;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.createScaffoldMiddleware=void 0;function cp(e){return(t,r,n,s)=>{const i=e[t.method];return i===void 0?n():typeof i=="function"?i(t,r,n,s):(r.result=i,s())}}Cn.createScaffoldMiddleware=cp;var pr={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const lp=wa;function ia(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function up(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let dp=class extends lp.EventEmitter{emit(t,...r){let n=t==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const i=s[t];if(i===void 0)return!1;if(typeof i=="function")ia(i,this,r);else{const o=i.length,a=up(i);for(let l=0;l<o;l+=1)ia(a[l],this,r)}return!0}};Ii.default=dp;var Jc={},We={},hp=qt;qt.default=qt;qt.stable=Qc;qt.stableStringify=Qc;var Tr="[...]",Gc="[Circular]",nt=[],et=[];function Zc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function qt(e,t,r,n){typeof n>"u"&&(n=Zc()),Ks(e,"",0,[],void 0,0,n);var s;try{et.length===0?s=JSON.stringify(e,t,r):s=JSON.stringify(e,Kc(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;nt.length!==0;){var i=nt.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function yt(e,t,r,n){var s=Object.getOwnPropertyDescriptor(n,r);s.get!==void 0?s.configurable?(Object.defineProperty(n,r,{value:e}),nt.push([n,r,t,s])):et.push([t,r,e]):(n[r]=e,nt.push([n,r,t]))}function Ks(e,t,r,n,s,i,o){i+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){yt(Gc,e,t,s);return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){yt(Tr,e,t,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){yt(Tr,e,t,s);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Ks(e[a],a,a,n,e,i,o);else{var l=Object.keys(e);for(a=0;a<l.length;a++){var c=l[a];Ks(e[c],c,a,n,e,i,o)}}n.pop()}}function fp(e,t){return e<t?-1:e>t?1:0}function Qc(e,t,r,n){typeof n>"u"&&(n=Zc());var s=Xs(e,"",0,[],void 0,0,n)||e,i;try{et.length===0?i=JSON.stringify(s,t,r):i=JSON.stringify(s,Kc(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;nt.length!==0;){var o=nt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Xs(e,t,r,n,s,i,o){i+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){yt(Gc,e,t,s);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){yt(Tr,e,t,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){yt(Tr,e,t,s);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Xs(e[a],a,a,n,e,i,o);else{var l={},c=Object.keys(e).sort(fp);for(a=0;a<c.length;a++){var u=c[a];Xs(e[u],u,a,n,e,i,o),l[u]=e[u]}if(typeof s<"u")nt.push([s,t,e]),s[t]=l;else return l}n.pop()}}function Kc(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(et.length>0)for(var n=0;n<et.length;n++){var s=et[n];if(s[1]===t&&s[0]===r){r=s[2],et.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(We,"__esModule",{value:!0});We.EthereumProviderError=We.EthereumRpcError=void 0;const gp=hp;class Xc extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return gp.default(this.serialize(),bp,2)}}We.EthereumRpcError=Xc;class pp extends Xc{constructor(t,r,n){if(!mp(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}We.EthereumProviderError=pp;function mp(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function bp(e,t){if(t!=="[Circular]")return t}var Ai={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.errorValues=qe.errorCodes=void 0;qe.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};qe.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=qe,r=We,n=t.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",i={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,f=s){if(Number.isInteger(d)){const g=d.toString();if(h(t.errorValues,g))return t.errorValues[g].message;if(c(d))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return f}e.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const f=d.toString();return!!(t.errorValues[f]||c(d))}e.isValidCode=a;function l(d,{fallbackError:f=i,shouldIncludeStack:g=!1}={}){var y,w;if(!f||!Number.isInteger(f.code)||typeof f.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();const S={};if(d&&typeof d=="object"&&!Array.isArray(d)&&h(d,"code")&&a(d.code)){const p=d;S.code=p.code,p.message&&typeof p.message=="string"?(S.message=p.message,h(p,"data")&&(S.data=p.data)):(S.message=o(S.code),S.data={originalError:u(d)})}else{S.code=f.code;const p=(y=d)===null||y===void 0?void 0:y.message;S.message=p&&typeof p=="string"?p:f.message,S.data={originalError:u(d)}}const _=(w=d)===null||w===void 0?void 0:w.stack;return g&&d&&_&&typeof _=="string"&&(S.stack=_),S}e.serializeError=l;function c(d){return d>=-32099&&d<=-32e3}function u(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function h(d,f){return Object.prototype.hasOwnProperty.call(d,f)}})(Ai);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.ethErrors=void 0;const xi=We,Yc=Ai,le=qe;kn.ethErrors={rpc:{parse:e=>we(le.errorCodes.rpc.parse,e),invalidRequest:e=>we(le.errorCodes.rpc.invalidRequest,e),invalidParams:e=>we(le.errorCodes.rpc.invalidParams,e),methodNotFound:e=>we(le.errorCodes.rpc.methodNotFound,e),internal:e=>we(le.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return we(t,e)},invalidInput:e=>we(le.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>we(le.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>we(le.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>we(le.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>we(le.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>we(le.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Ht(le.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Ht(le.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Ht(le.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Ht(le.errorCodes.provider.disconnected,e),chainDisconnected:e=>Ht(le.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new xi.EthereumProviderError(t,r,n)}}};function we(e,t){const[r,n]=el(t);return new xi.EthereumRpcError(e,r||Yc.getMessageFromCode(e),n)}function Ht(e,t){const[r,n]=el(t);return new xi.EthereumProviderError(e,r||Yc.getMessageFromCode(e),n)}function el(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=We;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=Ai;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=kn;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const s=qe;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})})(Jc);var _p=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});pr.JsonRpcEngine=void 0;const wp=_p(Ii),ye=Jc;class Fe extends wp.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,s)=>{try{const[i,o,a]=await Fe._runAllMiddleware(t,r,this._middleware);return o?(await Fe._runReturnHandlers(a),s(i)):n(async l=>{try{await Fe._runReturnHandlers(a)}catch(c){return l(c)}return l()})}catch(i){return s(i)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,s)=>{r(s)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const o=new ye.EthereumRpcError(ye.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){const o=new ye.EthereumRpcError(ye.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(o,{id:t.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},t),s={id:n.id,jsonrpc:n.jsonrpc};let i=null;try{await this._processRequest(n,s)}catch(o){i=o}return i&&(delete s.result,s.error||(s.error=ye.serializeError(i))),r(i,s)}async _processRequest(t,r){const[n,s,i]=await Fe._runAllMiddleware(t,r,this._middleware);if(Fe._checkForCompletion(t,r,s),await Fe._runReturnHandlers(i),n)throw n}static async _runAllMiddleware(t,r,n){const s=[];let i=null,o=!1;for(const a of n)if([i,o]=await Fe._runMiddleware(t,r,a,s),o)break;return[i,o,s.reverse()]}static _runMiddleware(t,r,n,s){return new Promise(i=>{const o=l=>{const c=l||r.error;c&&(r.error=ye.serializeError(c)),i([c,!0])},a=l=>{r.error?o(r.error):(l&&(typeof l!="function"&&o(new ye.EthereumRpcError(ye.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Vs(t)}`,{request:t})),s.push(l)),i([null,!1]))};try{n(t,r,a,o)}catch(l){o(l)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,s)=>{r(i=>i?s(i):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new ye.EthereumRpcError(ye.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Vs(t)}`,{request:t});if(!n)throw new ye.EthereumRpcError(ye.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Vs(t)}`,{request:t})}}pr.JsonRpcEngine=Fe;function Vs(e){return JSON.stringify(e,null,2)}var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.mergeMiddleware=void 0;const yp=pr;function Ep(e){const t=new yp.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}Rn.mergeMiddleware=Ep;(function(e){var t=A&&A.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=A&&A.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(vn,e),r(Sn,e),r(Cn,e),r(gr,e),r(pr,e),r(Rn,e)})(Ri);var tl={},Ni={};const Li=It(ol);var In={};Object.defineProperty(In,"__esModule",{value:!0});var oa=Li,vp=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(s){return t._queue.push(s)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return oa.__awaiter(this,void 0,void 0,function(){var r,n,s;return oa.__generator(this,function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:r=i.sent(),n=r[0],s=r[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,i.sent()];case 4:return s(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();In.default=vp;Object.defineProperty(Ni,"__esModule",{value:!0});var aa=Li,Sp=In,Cp=function(){function e(){this._semaphore=new Sp.default(1)}return e.prototype.acquire=function(){return aa.__awaiter(this,void 0,void 0,function(){var t,r;return aa.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Ni.default=Cp;var An={};Object.defineProperty(An,"__esModule",{value:!0});An.withTimeout=void 0;var xr=Li;function kp(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(s,i){return xr.__awaiter(n,void 0,void 0,function(){var o,a,l;return xr.__generator(this,function(c){switch(c.label){case 0:return o=!1,setTimeout(function(){o=!0,i(r)},t),[4,e.acquire()];case 1:return a=c.sent(),o?(l=Array.isArray(a)?a[1]:a,l()):s(a),[2]}})})})},runExclusive:function(s){return xr.__awaiter(this,void 0,void 0,function(){var i,o;return xr.__generator(this,function(a){switch(a.label){case 0:i=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(i=o[1],[4,s(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return i=o,[4,s()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return i(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}An.withTimeout=kp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Ni;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=In;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=An;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(tl);var Rp=Ap,Ip=Object.prototype.hasOwnProperty;function Ap(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)Ip.call(r,n)&&(e[n]=r[n])}return e}const xp=Rp,Np=li();var Lp=L;function L(e){const t=this;t.currentProvider=e}L.prototype.getBalance=mr(2,"eth_getBalance");L.prototype.getCode=mr(2,"eth_getCode");L.prototype.getTransactionCount=mr(2,"eth_getTransactionCount");L.prototype.getStorageAt=mr(3,"eth_getStorageAt");L.prototype.call=mr(2,"eth_call");L.prototype.protocolVersion=P("eth_protocolVersion");L.prototype.syncing=P("eth_syncing");L.prototype.coinbase=P("eth_coinbase");L.prototype.mining=P("eth_mining");L.prototype.hashrate=P("eth_hashrate");L.prototype.gasPrice=P("eth_gasPrice");L.prototype.accounts=P("eth_accounts");L.prototype.blockNumber=P("eth_blockNumber");L.prototype.getBlockTransactionCountByHash=P("eth_getBlockTransactionCountByHash");L.prototype.getBlockTransactionCountByNumber=P("eth_getBlockTransactionCountByNumber");L.prototype.getUncleCountByBlockHash=P("eth_getUncleCountByBlockHash");L.prototype.getUncleCountByBlockNumber=P("eth_getUncleCountByBlockNumber");L.prototype.sign=P("eth_sign");L.prototype.sendTransaction=P("eth_sendTransaction");L.prototype.sendRawTransaction=P("eth_sendRawTransaction");L.prototype.estimateGas=P("eth_estimateGas");L.prototype.getBlockByHash=P("eth_getBlockByHash");L.prototype.getBlockByNumber=P("eth_getBlockByNumber");L.prototype.getTransactionByHash=P("eth_getTransactionByHash");L.prototype.getTransactionByBlockHashAndIndex=P("eth_getTransactionByBlockHashAndIndex");L.prototype.getTransactionByBlockNumberAndIndex=P("eth_getTransactionByBlockNumberAndIndex");L.prototype.getTransactionReceipt=P("eth_getTransactionReceipt");L.prototype.getUncleByBlockHashAndIndex=P("eth_getUncleByBlockHashAndIndex");L.prototype.getUncleByBlockNumberAndIndex=P("eth_getUncleByBlockNumberAndIndex");L.prototype.getCompilers=P("eth_getCompilers");L.prototype.compileLLL=P("eth_compileLLL");L.prototype.compileSolidity=P("eth_compileSolidity");L.prototype.compileSerpent=P("eth_compileSerpent");L.prototype.newFilter=P("eth_newFilter");L.prototype.newBlockFilter=P("eth_newBlockFilter");L.prototype.newPendingTransactionFilter=P("eth_newPendingTransactionFilter");L.prototype.uninstallFilter=P("eth_uninstallFilter");L.prototype.getFilterChanges=P("eth_getFilterChanges");L.prototype.getFilterLogs=P("eth_getFilterLogs");L.prototype.getLogs=P("eth_getLogs");L.prototype.getWork=P("eth_getWork");L.prototype.submitWork=P("eth_submitWork");L.prototype.submitHashrate=P("eth_submitHashrate");L.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(Mp(e),function(n,s){if(!n&&s.error&&(n=new Error("EthQuery - RPC Error - "+s.error.message)),n)return t(n);t(null,s.result)})};function P(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function mr(e,t){return function(){const r=this;var n=[].slice.call(arguments),s=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},s)}}function Mp(e){return xp({id:Np(),jsonrpc:"2.0",params:[]},e)}const ca=(e,t,r,n)=>function(...s){const i=t.promiseModule;return new i((o,a)=>{t.multiArgs?s.push((...c)=>{t.errorFirst?c[0]?a(c):(c.shift(),o(c)):o(c)}):t.errorFirst?s.push((c,u)=>{c?a(c):o(u)}):s.push(o),Reflect.apply(e,this===r?n:this,s)})},la=new WeakMap;var $p=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(o,a)=>{let l=la.get(o);if(l||(l={},la.set(o,l)),a in l)return l[a];const c=g=>typeof g=="string"||typeof a=="symbol"?a===g:g.test(a),u=Reflect.getOwnPropertyDescriptor(o,a),h=u===void 0||u.writable||u.configurable,f=(t.include?t.include.some(c):!t.exclude.some(c))&&h;return l[a]=f,f},s=new WeakMap,i=new Proxy(e,{apply(o,a,l){const c=s.get(o);if(c)return Reflect.apply(c,a,l);const u=t.excludeMain?o:ca(o,t,i,o);return s.set(o,u),Reflect.apply(u,a,l)},get(o,a){const l=o[a];if(!n(o,a)||l===Function.prototype[a])return l;const c=s.get(l);if(c)return c;if(typeof l=="function"){const u=ca(l,t,i,o);return s.set(l,u),u}return l}});return i};const Tp=cr.default;let Pp=class extends Tp{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};var Mi=Pp;const Op=Mi;let Bp=class extends Op{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};var Fp=Bp,br={minBlockRef:Dp,maxBlockRef:jp,sortBlockRefs:$i,bnToHex:Hp,blockRefIsNumber:Up,hexToInt:Pr,incrementHexInt:Vp,intToHex:rl,unsafeRandomBytes:zp};function Dp(...e){return $i(e)[0]}function jp(...e){const t=$i(e);return t[t.length-1]}function $i(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:Pr(t)-Pr(r))}function Hp(e){return"0x"+e.toString(16)}function Up(e){return e&&!["earliest","latest","pending"].includes(e)}function Pr(e){return e==null?e:Number.parseInt(e,16)}function Vp(e){if(e==null)return e;const t=Pr(e);return rl(t+1)}function rl(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function zp(e){let t="0x";for(let r=0;r<e;r++)t+=ua(),t+=ua();return t}function ua(){return Math.floor(Math.random()*16).toString(16)}const Wp=Lp,qp=$p,Jp=Fp,{bnToHex:o2,hexToInt:Nr,incrementHexInt:Gp,minBlockRef:Zp,blockRefIsNumber:Qp}=br;let Kp=class extends Jp{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new Wp(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Zp(this.params.toBlock,t),s=Object.assign({},this.params,{toBlock:n}),i=await this._fetchLogs(s);this.addInitialResults(i)}async update({oldBlock:t,newBlock:r}){const n=r;let s;t?s=Gp(t):s=r;const i=Object.assign({},this.params,{fromBlock:s,toBlock:n}),a=(await this._fetchLogs(i)).filter(l=>this.matchLog(l));this.addResults(a)}async _fetchLogs(t){return await qp(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(Nr(this.params.fromBlock)>=Nr(t.blockNumber)||Qp(this.params.toBlock)&&Nr(this.params.toBlock)<=Nr(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((s,i)=>{let o=t.topics[i];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(s)?s:[s];return a.includes(null)?!0:(a=a.map(u=>u.toLowerCase()),a.includes(o))})}};var Xp=Kp,Ti=Yp;async function Yp({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=da(t),i=da(r)-n+1,o=Array(i).fill().map((l,c)=>n+c).map(em);let a=await Promise.all(o.map(l=>rm(e,"eth_getBlockByNumber",[l,!1])));return a=a.filter(l=>l!==null),a}function da(e){return e==null?e:Number.parseInt(e,16)}function em(e){return e==null?e:"0x"+e.toString(16)}function tm(e,t){return new Promise((r,n)=>{e.sendAsync(t,(s,i)=>{s?n(s):i.error?n(i.error):i.result?r(i.result):n(new Error("Result was empty"))})})}async function rm(e,t,r){for(let n=0;n<3;n++)try{return await tm(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(s){console.error(`provider.sendAsync failed: ${s.stack||s.message||s}`)}return null}const nm=Mi,sm=Ti,{incrementHexInt:im}=br;let om=class extends nm{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,s=im(t),o=(await sm({provider:this.provider,fromBlock:s,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var am=om;const cm=Mi,lm=Ti,{incrementHexInt:um}=br;let dm=class extends cm{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=um(t),s=await lm({provider:this.provider,fromBlock:n,toBlock:r}),i=[];for(const o of s)i.push(...o.transactions);this.addResults(i)}};var hm=dm;const fm=tl.Mutex,{createAsyncMiddleware:gm,createScaffoldMiddleware:pm}=Ri,mm=Xp,bm=am,_m=hm,{intToHex:nl,hexToInt:zs}=br;var wm=ym;function ym({blockTracker:e,provider:t}){let r=0,n={};const s=new fm,i=Em({mutex:s}),o=pm({eth_newFilter:i(Ws(l)),eth_newBlockFilter:i(Ws(c)),eth_newPendingTransactionFilter:i(Ws(u)),eth_uninstallFilter:i(Mr(f)),eth_getFilterChanges:i(Mr(h)),eth_getFilterLogs:i(Mr(d))}),a=async({oldBlock:_,newBlock:p})=>{if(n.length===0)return;const M=await s.acquire();try{await Promise.all(gt(n).map(async E=>{try{await E.update({oldBlock:_,newBlock:p})}catch(x){console.error(x)}}))}catch(E){console.error(E)}M()};return o.newLogFilter=l,o.newBlockFilter=c,o.newPendingTransactionFilter=u,o.uninstallFilter=f,o.getFilterChanges=h,o.getFilterLogs=d,o.destroy=()=>{w()},o;async function l(_){const p=new mm({provider:t,params:_});return await g(p),p}async function c(){const _=new bm({provider:t});return await g(_),_}async function u(){const _=new _m({provider:t});return await g(_),_}async function h(_){const p=zs(_),M=n[p];if(!M)throw new Error(`No filter for index "${p}"`);return M.getChangesAndClear()}async function d(_){const p=zs(_),M=n[p];if(!M)throw new Error(`No filter for index "${p}"`);let E=[];return M.type==="log"&&(E=M.getAllResults()),E}async function f(_){const p=zs(_),E=!!n[p];return E&&await y(p),E}async function g(_){const p=gt(n).length,M=await e.getLatestBlock();await _.initialize({currentBlock:M}),r++,n[r]=_,_.id=r,_.idHex=nl(r);const E=gt(n).length;return S({prevFilterCount:p,newFilterCount:E}),r}async function y(_){const p=gt(n).length;delete n[_];const M=gt(n).length;S({prevFilterCount:p,newFilterCount:M})}async function w(){const _=gt(n).length;n={},S({prevFilterCount:_,newFilterCount:0})}function S({prevFilterCount:_,newFilterCount:p}){if(_===0&&p>0){e.on("sync",a);return}if(_>0&&p===0){e.removeListener("sync",a);return}}}function Ws(e){return Mr(async(...t)=>{const r=await e(...t);return nl(r.id)})}function Mr(e){return gm(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function Em({mutex:e}){return t=>async(r,n,s,i)=>{(await e.acquire())(),t(r,n,s,i)}}function gt(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const vm=cr.default,{createAsyncMiddleware:ha,createScaffoldMiddleware:Sm}=Ri,Cm=wm,{unsafeRandomBytes:km,incrementHexInt:Rm}=br,Im=Ti;var Am=xm;function xm({blockTracker:e,provider:t}){const r={},n=Cm({blockTracker:e,provider:t});let s=!1;const i=new vm,o=Sm({eth_subscribe:ha(a),eth_unsubscribe:ha(l)});return o.destroy=u,{events:i,middleware:o};async function a(h,d){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const f=h.params[0],g=km(16);let y;switch(f){case"newHeads":y=w({subId:g});break;case"logs":const _=h.params[1],p=await n.newLogFilter(_);y=S({subId:g,filter:p});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${f}"`)}r[g]=y,d.result=g;return;function w({subId:_}){const p={type:f,destroy:async()=>{e.removeListener("sync",p.update)},update:async({oldBlock:M,newBlock:E})=>{const x=E,H=Rm(M);(await Im({provider:t,fromBlock:H,toBlock:x})).map(Nm).filter(z=>z!==null).forEach(z=>{c(_,z)})}};return e.on("sync",p.update),p}function S({subId:_,filter:p}){return p.on("update",E=>c(_,E)),{type:f,destroy:async()=>await n.uninstallFilter(p.idHex)}}}async function l(h,d){if(s)throw new Error("SubscriptionManager - attempting to use after destroying");const f=h.params[0],g=r[f];if(!g){d.result=!1;return}delete r[f],await g.destroy(),d.result=!0}function c(h,d){i.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:d}})}function u(){i.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];s=!0}}function Nm(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(dn,"__esModule",{value:!0});dn.SubscriptionManager=void 0;const Lm=lc,Mm=Am,fa=()=>{};class $m{constructor(t){const r=new Lm.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:s}=Mm({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=s}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,fa,fa),r}destroy(){this.subscriptionMiddleware.destroy()}}dn.SubscriptionManager=$m;var sl=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Et,"__esModule",{value:!0});Et.CoinbaseWalletProvider=void 0;const Tm=sl(Or),Pm=Hl,B=Jt,T=v,Om=Kt,ga=Ee,Lr=Mt,pe=xt,qs=sl(fh),Ut=Lt,Bm=Ct,Fm=dn,pa="DefaultChainId",ma="DefaultJsonRpcUrl";class Dm extends Pm.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new Bm.FilterPolyfill(this),this._subscriptionManager=new Fm.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;const s=this.getChainId(),i=(0,T.prepend0x)(s.toString(16));this.emit("connect",{chainIdStr:i});const o=this._storage.getItem(ga.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(l=>(0,T.ensureAddressString)(l)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var l;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){const c=a.data.data.chainId,u=(l=a.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(u,Number(c))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,T.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(ma))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(ma,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(pa,r.toString(10)),((0,T.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,s,i,o){const l=await(await this.initializeRelay()).watchAsset(t,r,n,s,i,o==null?void 0:o.toString()).promise;return(0,pe.isErrorResponse)(l)?!1:!!l.result}async addEthereumChain(t,r,n,s,i,o){var a,l;if((0,T.ensureIntNumber)(t)===this.getChainId())return!1;const c=await this.initializeRelay(),u=c.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!u&&await c.requestEthereumAccounts().promise;const h=await c.addEthereumChain(t.toString(),r,i,n,s,o).promise;return(0,pe.isErrorResponse)(h)?!1:(((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],t),((l=h.result)===null||l===void 0?void 0:l.isApproved)===!0)}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,pe.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===B.standardErrorCodes.provider.unsupportedChain?B.standardErrors.provider.unsupportedChain():B.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const s=n.result;s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(Ut.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Lr.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{const n=this._send(t,r);if(n instanceof Promise)return n.catch(s=>{throw(0,B.serializeError)(s,t)})}catch(n){throw(0,B.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){const s=t,i=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:s,params:i};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const s=t,i=r;return this._sendAsync(s,i)}if(Array.isArray(t))return t.map(i=>this._sendRequest(i));const n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,B.serializeError)(n,t)})}catch(n){return Promise.reject((0,B.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const s=r;this._sendMultipleRequestsAsync(t).then(i=>s(null,i)).catch(i=>s(i,null));return}const n=r;return this._sendRequestAsync(t).then(s=>n(null,s)).catch(s=>n(s,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,B.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,B.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw B.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw B.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw B.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const s=n===void 0?[]:n,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:s,jsonrpc:"2.0",id:i})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,T.ensureRegExpString)(t)).promise;if((0,pe.isErrorResponse)(n))throw(0,B.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,B.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){const s=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,pe.isErrorResponse)(s))throw(0,B.serializeError)(s.errorMessage,"generic");if(typeof s.result!="string")throw(0,B.serializeError)("result was not a string","generic");return s.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(Ut.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?Lr.Session.hash(this._relay.session.id):void 0});let n;try{const i=await this.initializeRelay();if(!(i instanceof Om.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await i.connectAndSignIn(t).promise,(0,pe.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied account authorization"):i}if(!n.result)throw new Error("accounts received is empty");const{accounts:s}=n.result;return this._setAddresses(s),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,pe.isErrorResponse)(n))throw(0,B.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,B.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(s=>(0,T.ensureAddressString)(s));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ga.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const s=this._handleSynchronousMethods(t);if(s!==void 0)return r({jsonrpc:"2.0",id:t.id,result:s});const i=this._handleAsynchronousFilterMethods(t);if(i!==void 0){i.then(a=>r(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(t);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:t.id,result:a.result})).catch(a=>n(a));return}}catch(s){return n(s)}this._handleAsynchronousMethods(t).then(s=>s&&r(Object.assign(Object.assign({},s),{id:t.id}))).catch(s=>n(s))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(i=>{var o;throw(i.code===B.standardErrorCodes.rpc.methodNotFound||i.code===B.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(Ut.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?Lr.Session.hash(this._relay.session.id):void 0})),i})}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,T.ensureAddressString)(t);return this._addresses.map(s=>(0,T.ensureAddressString)(s)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(Ut.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,T.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,T.ensureAddressString)(t.to):null,s=t.value!=null?(0,T.ensureBN)(t.value):new Tm.default(0),i=t.data?(0,T.ensureBuffer)(t.data):Buffer.alloc(0),o=t.nonce!=null?(0,T.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,T.ensureBN)(t.gasPrice):null,l=t.maxFeePerGas!=null?(0,T.ensureBN)(t.maxFeePerGas):null,c=t.maxPriorityFeePerGas!=null?(0,T.ensureBN)(t.maxPriorityFeePerGas):null,u=t.gas!=null?(0,T.ensureBN)(t.gas):null,h=t.chainId?(0,T.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:s,data:i,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw B.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw B.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,s){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(t,r,n,s).promise;if((0,pe.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(i){throw typeof i.message=="string"&&i.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied message signature"):i}}async _ethereumAddressFromSignedMessage(t,r,n){const i=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,pe.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,T.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(pa);if(!t)return(0,T.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,T.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(Ut.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Lr.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,pe.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,T.ensureAddressString)(t[0]),n=(0,T.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,T.ensureBuffer)(t[0]),n=(0,T.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,T.ensureBuffer)(t[0]),n=(0,T.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,T.ensureBuffer)(t[0]),n=(0,T.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,pe.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,T.ensureBuffer)(t[0]),s=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,pe.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const s=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,pe.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?B.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,T.ensureParsedJSONObject)(t[0]),n=(0,T.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const s=qs.default.hashForSignTypedDataLegacy({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(s,n,!1,i)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,T.ensureAddressString)(t[0]),n=(0,T.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=qs.default.hashForSignTypedData_v3({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,T.ensureAddressString)(t[0]),n=(0,T.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const s=qs.default.hashForSignTypedData_v4({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(s,r,!1,i)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,s,i;const o=t[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw B.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw B.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(s=o.blockExplorerUrls)!==null&&s!==void 0?s:[],o.chainName,(i=o.iconUrls)!==null&&i!==void 0?i:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw B.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw B.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw B.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw B.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:s,symbol:i,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,s,i,a,o,n)}}_eth_uninstallFilter(t){const r=(0,T.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,T.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,T.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}Et.CoinbaseWalletProvider=Dm;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.RelayEventManager=void 0;const jm=v;class Hm{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,jm.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}xn.RelayEventManager=Hm;Object.defineProperty(zt,"__esModule",{value:!0});zt.CoinbaseWalletSDK=void 0;const Um=Br,Vm=Fr,ba=v,zm=Vr,Wm=Et,qm=Kt,Jm=or,Gm=xn,Zm=nr,Qm=Xt,il=Nt;class Nn{constructor(t){var r,n,s;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const i=t.linkAPIUrl||Vm.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(s=t.reloadOnDisconnect)!==null&&s!==void 0?s:!0;const o=new URL(i),a=`${o.protocol}//${o.host}`;if(this._storage=new zm.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",Nn.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new Gm.RelayEventManager;const l=(0,ba.isMobileWeb)(),c=t.uiConstructor||(h=>l?new Jm.MobileRelayUI(h):new Zm.WalletLinkRelayUI(h)),u={linkAPIUrl:i,version:il.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:c,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=l?new qm.MobileRelay(u):new Qm.WalletLinkRelay(u),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const s=this.coinbaseBrowser;if(s)return s;const i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||i.setConnectDisabled(!0),new Wm.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,ba.getFavicon)();const s=this.walletExtension;s?this.isCipherProvider(s)||s.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,Um.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}zt.CoinbaseWalletSDK=Nn;Nn.VERSION=il.LIB_VERSION;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=zt,r=Et;var n=zt;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var s=Et;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return s.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(ya);const Km=al(ya),u2=Object.freeze(Object.defineProperty({__proto__:null,default:Km},Symbol.toStringTag,{value:"Module"}));export{u2 as i};
//# sourceMappingURL=index-DZz2unVA.js.map
